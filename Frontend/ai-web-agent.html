<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Web Agent â€“ Smart Pharmacy</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
/* ============================================================
   CSS VARIABLES & RESET
============================================================ */
:root {
  --b1: #0f3d91;   /* deep navy */
  --b2: #1a6fd4;   /* primary blue */
  --b3: #2d8bff;   /* bright blue */
  --b4: #64b4ff;   /* sky blue */
  --b5: #c5dcff;   /* soft blue */
  --b6: #e8f2ff;   /* lightest blue */
  --white: #ffffff;
  --off: #f7faff;
  --g1: #1e293b;
  --g2: #334155;
  --g3: #64748b;
  --g4: #94a3b8;
  --g5: #e2e8f0;
  --g6: #f0f4f8;
  --green: #10b981;
  --orange: #f59e0b;
  --red: #ef4444;
  --sh1: 0 1px 4px rgba(15,61,145,0.07), 0 1px 2px rgba(15,61,145,0.05);
  --sh2: 0 4px 16px rgba(15,61,145,0.11), 0 2px 6px rgba(15,61,145,0.07);
  --sh3: 0 10px 40px rgba(15,61,145,0.15), 0 4px 12px rgba(15,61,145,0.09);
  --sh4: 0 20px 60px rgba(15,61,145,0.2);
  --r1: 8px; --r2: 12px; --r3: 18px; --r4: 28px; --r5: 100px;
  --tr: all 0.22s cubic-bezier(0.4,0,0.2,1);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth;font-size:16px}
body{font-family:'DM Sans',sans-serif;background:var(--white);color:var(--g1);line-height:1.6;-webkit-font-smoothing:antialiased;overflow-x:hidden}
h1,h2,h3,h4,h5{font-family:'Outfit',sans-serif;font-weight:700;line-height:1.15}
a{text-decoration:none;color:inherit;transition:var(--tr)}
button{cursor:pointer;border:none;outline:none;font-family:'DM Sans',sans-serif;transition:var(--tr)}
input,select,textarea{font-family:'DM Sans',sans-serif;outline:none;border:none}
::-webkit-scrollbar{width:5px;height:5px}
::-webkit-scrollbar-track{background:var(--g6)}
::-webkit-scrollbar-thumb{background:var(--b5);border-radius:3px}
::-webkit-scrollbar-thumb:hover{background:var(--b2)}

/* ============================================================
   NAVBAR
============================================================ */
.navbar{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(255,255,255,0.96);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid rgba(15,61,145,0.09);box-shadow:0 2px 20px rgba(15,61,145,0.06)}
.nav-inner{max-width:1440px;margin:0 auto;padding:0 2rem;height:70px;display:flex;align-items:center;justify-content:space-between;gap:1.5rem}
.nav-logo{display:flex;align-items:center;gap:10px;font-family:'Outfit',sans-serif;font-weight:800;font-size:1.35rem;color:var(--b1);flex-shrink:0;cursor:pointer}
.nav-logo-icon{width:38px;height:38px;background:linear-gradient(135deg,var(--b1),var(--b3));border-radius:10px;display:flex;align-items:center;justify-content:center;color:white;font-size:1rem;box-shadow:0 4px 12px rgba(26,111,212,0.3)}
.nav-links{display:flex;align-items:center;gap:2px;list-style:none}
.nav-links a{padding:8px 14px;border-radius:var(--r1);font-weight:500;font-size:0.875rem;color:var(--g3);cursor:pointer;display:block}
.nav-links a:hover,.nav-links a.active{color:var(--b2);background:var(--b6)}
.nav-actions{display:flex;align-items:center;gap:8px;flex-shrink:0}
.nav-icon-btn{position:relative;width:38px;height:38px;border-radius:var(--r1);background:var(--b6);color:var(--b2);display:flex;align-items:center;justify-content:center;font-size:1rem;transition:var(--tr)}
.nav-icon-btn:hover{background:var(--b2);color:white;transform:translateY(-2px);box-shadow:var(--sh2)}
.badge-dot{position:absolute;top:-3px;right:-3px;width:17px;height:17px;background:var(--red);color:white;border-radius:50%;font-size:0.6rem;font-weight:800;display:flex;align-items:center;justify-content:center}
.btn-login{padding:8px 18px;border-radius:var(--r1);border:2px solid var(--b2);color:var(--b2);font-weight:600;font-size:0.85rem;background:transparent}
.btn-login:hover{background:var(--b2);color:white;transform:translateY(-2px);box-shadow:var(--sh2)}
.btn-safety{padding:8px 14px;border-radius:var(--r1);background:var(--b6);color:var(--b1);font-weight:600;font-size:0.85rem;display:flex;align-items:center;gap:5px}
.btn-safety:hover{background:var(--b5);transform:translateY(-1px)}

/* ============================================================
   PAGE SYSTEM
============================================================ */
.page{display:none;min-height:100vh;padding-top:70px}
.page.active{display:block}

/* ============================================================
   BUTTONS
============================================================ */
.btn-primary{padding:13px 28px;background:linear-gradient(135deg,var(--b1),var(--b3));color:white;border-radius:var(--r2);font-weight:700;font-size:0.95rem;letter-spacing:0.2px;box-shadow:0 4px 18px rgba(26,111,212,0.33);display:inline-flex;align-items:center;gap:8px;cursor:pointer}
.btn-primary:hover{transform:translateY(-3px);box-shadow:0 8px 28px rgba(26,111,212,0.43)}
.btn-secondary{padding:13px 28px;background:white;color:var(--b2);border-radius:var(--r2);font-weight:700;font-size:0.95rem;border:2px solid var(--b5);box-shadow:var(--sh1);display:inline-flex;align-items:center;gap:8px;cursor:pointer}
.btn-secondary:hover{border-color:var(--b2);box-shadow:var(--sh2);transform:translateY(-2px)}
.btn-sm{padding:7px 14px;border-radius:var(--r1);font-size:0.8rem;font-weight:600}

/* ============================================================
   CARDS & LAYOUT HELPERS
============================================================ */
.card{background:white;border-radius:var(--r3);border:1px solid var(--g5);box-shadow:var(--sh1);transition:var(--tr)}
.card:hover{box-shadow:var(--sh2)}
.badge{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:var(--r5);font-size:0.72rem;font-weight:700;letter-spacing:0.3px}
.badge-green{background:#d1fae5;color:#059669}
.badge-orange{background:#fef3c7;color:#d97706}
.badge-red{background:#fee2e2;color:#dc2626}
.badge-blue{background:var(--b6);color:var(--b2)}
.dot{width:8px;height:8px;border-radius:50%;display:inline-block;flex-shrink:0}
.dot-green{background:var(--green);box-shadow:0 0 5px rgba(16,185,129,.5);animation:dotPulse 2s infinite}
.dot-orange{background:var(--orange)}
.dot-red{background:var(--red)}
@keyframes dotPulse{0%,100%{opacity:1}50%{opacity:.5}}
.section-wrap{max-width:1200px;margin:0 auto;padding:0 2rem}

/* ============================================================
   TABLES
============================================================ */
.tbl{width:100%;border-collapse:collapse;font-size:0.85rem}
.tbl th{padding:11px 14px;text-align:left;font-weight:700;color:var(--g3);background:var(--g6);border-bottom:2px solid var(--g5);font-size:0.74rem;text-transform:uppercase;letter-spacing:.5px}
.tbl td{padding:11px 14px;border-bottom:1px solid var(--g5);color:var(--g1)}
.tbl tr:hover td{background:var(--b6)}
.tbl tr:last-child td{border-bottom:none}
.tbl-wrap{overflow-x:auto;border-radius:var(--r3);border:1px solid var(--g5);background:white;box-shadow:var(--sh1)}

/* ============================================================
   FORM
============================================================ */
.form-group{display:flex;flex-direction:column;gap:5px}
.form-label{font-size:0.82rem;font-weight:600;color:var(--g3)}
.form-input{padding:10px 13px;border:2px solid var(--g5);border-radius:var(--r1);font-size:0.88rem;color:var(--g1);background:white;transition:var(--tr);width:100%}
.form-input:focus{border-color:var(--b2);box-shadow:0 0 0 3px rgba(26,111,212,.1)}

/* ============================================================
   MODAL
============================================================ */
.overlay{position:fixed;inset:0;background:rgba(10,29,80,.5);backdrop-filter:blur(4px);z-index:3000;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .25s}
.overlay.show{opacity:1;pointer-events:all}
.modal-box{background:white;border-radius:var(--r4);padding:2.25rem;max-width:500px;width:90%;box-shadow:var(--sh4);transform:scale(.95) translateY(18px);transition:all .28s cubic-bezier(.4,0,.2,1)}
.overlay.show .modal-box{transform:scale(1) translateY(0)}
.modal-title{font-size:1.4rem;color:var(--b1);margin-bottom:.4rem}
.modal-sub{font-size:.875rem;color:var(--g3);margin-bottom:1.5rem}

/* ============================================================
   TOAST
============================================================ */
.toast-wrap{position:fixed;bottom:1.75rem;right:1.75rem;z-index:9999;display:flex;flex-direction:column;gap:.6rem}
.toast{background:white;border-radius:var(--r2);padding:.875rem 1.25rem;box-shadow:var(--sh3);border-left:4px solid var(--b2);min-width:280px;display:flex;align-items:center;gap:10px;animation:toastIn .3s ease;font-size:.875rem;font-weight:500}
.toast.green{border-color:var(--green)}.toast.orange{border-color:var(--orange)}.toast.red{border-color:var(--red)}
@keyframes toastIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}

/* ============================================================
   NOTIFICATIONS DROPDOWN
============================================================ */
.notif-wrap{position:relative}
.notif-drop{position:absolute;top:calc(100% + 8px);right:0;width:320px;background:white;border-radius:var(--r3);box-shadow:var(--sh4);border:1px solid var(--g5);z-index:2000;display:none}
.notif-drop.show{display:block}
.notif-head{padding:.875rem 1.25rem;border-bottom:1px solid var(--g5);display:flex;align-items:center;justify-content:space-between;font-size:.875rem;font-weight:700}
.notif-item{padding:.75rem 1.25rem;border-bottom:1px solid var(--g6);display:flex;gap:10px;align-items:flex-start;cursor:pointer;transition:var(--tr)}
.notif-item:hover{background:var(--b6)}
.notif-item:last-child{border-bottom:none}
.notif-icon{font-size:1.1rem;flex-shrink:0;margin-top:1px}
.notif-text strong{display:block;font-size:.82rem;color:var(--g1);font-weight:600}
.notif-text small{font-size:.72rem;color:var(--g4)}

/* ============================================================
   LANDING PAGE
============================================================ */
#page-home{background:var(--white)}
.hero{min-height:100vh;display:grid;grid-template-columns:1fr 1fr;align-items:center;gap:3rem;max-width:1400px;margin:0 auto;padding:6rem 3rem 4rem;position:relative}
.hero-bg{position:fixed;inset:0;pointer-events:none;z-index:-1}
.blob{position:absolute;border-radius:50%;filter:blur(90px);opacity:.12}
.blob1{width:650px;height:650px;background:radial-gradient(circle,var(--b2),var(--b3));top:-250px;right:-150px;animation:blobF 9s ease-in-out infinite}
.blob2{width:420px;height:420px;background:radial-gradient(circle,var(--b4),var(--b5));bottom:-150px;left:-120px;animation:blobF 11s ease-in-out infinite reverse}
.grid-bg{position:fixed;inset:0;background-image:linear-gradient(rgba(15,61,145,.035) 1px,transparent 1px),linear-gradient(90deg,rgba(15,61,145,.035) 1px,transparent 1px);background-size:44px 44px;pointer-events:none;z-index:-1}
@keyframes blobF{0%,100%{transform:translate(0,0) scale(1)}33%{transform:translate(18px,-18px) scale(1.04)}66%{transform:translate(-10px,12px) scale(.97)}}
.hero-badge{display:inline-flex;align-items:center;gap:8px;background:var(--b6);border:1px solid var(--b5);color:var(--b1);padding:7px 15px;border-radius:var(--r5);font-size:.78rem;font-weight:700;margin-bottom:1.4rem;animation:fadeUp .6s ease both}
.hero-title{font-size:clamp(2.4rem,4.5vw,3.8rem);font-weight:900;color:var(--b1);margin-bottom:1.1rem;animation:fadeUp .6s ease .1s both;line-height:1.08}
.hero-title-grad{background:linear-gradient(135deg,var(--b2),var(--b4));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero-sub{font-size:1.05rem;color:var(--g3);line-height:1.72;max-width:500px;margin-bottom:1.8rem;animation:fadeUp .6s ease .2s both}
.hero-btns{display:flex;gap:.875rem;margin-bottom:2.25rem;animation:fadeUp .6s ease .3s both;flex-wrap:wrap}
.search-hero{animation:fadeUp .6s ease .4s both;position:relative}
.search-box{display:flex;align-items:center;background:white;border:2px solid var(--b5);border-radius:var(--r5);padding:7px 7px 7px 18px;gap:8px;box-shadow:var(--sh3)}
.search-box:focus-within{border-color:var(--b2);box-shadow:0 0 0 4px rgba(26,111,212,.1),var(--sh3)}
.search-icon{font-size:1rem;flex-shrink:0;color:var(--g4)}
.search-input{flex:1;background:transparent;font-size:.9rem;color:var(--g1);padding:4px 0}
.search-input::placeholder{color:var(--g4)}
.search-btn{padding:9px 22px;background:linear-gradient(135deg,var(--b1),var(--b3));color:white;border-radius:var(--r5);font-weight:700;font-size:.85rem;box-shadow:0 3px 10px rgba(26,111,212,.3);flex-shrink:0}
.search-btn:hover{transform:scale(1.04);box-shadow:0 5px 18px rgba(26,111,212,.4)}
.search-drop{position:absolute;top:calc(100% + 8px);left:0;right:0;background:white;border-radius:var(--r2);box-shadow:var(--sh3);border:1px solid var(--g5);display:none;z-index:100;overflow:hidden}
.search-drop.show{display:block}
.sug-item{padding:9px 15px;cursor:pointer;font-size:.875rem;display:flex;align-items:center;gap:10px;color:var(--g1)}
.sug-item:hover{background:var(--b6);color:var(--b2)}
.search-tags{display:flex;gap:7px;margin-top:11px;flex-wrap:wrap}
.stag{background:var(--b6);color:var(--b2);padding:5px 12px;border-radius:var(--r5);font-size:.78rem;font-weight:600;cursor:pointer;border:1px solid var(--b5);transition:var(--tr)}
.stag:hover{background:var(--b2);color:white}
/* hero visual */
.hero-visual{display:flex;justify-content:center;align-items:center;animation:fadeRight .8s ease .2s both}
.hero-orb{width:400px;height:400px;position:relative;flex-shrink:0}
.ring{position:absolute;border-radius:50%;border:2px solid rgba(26,111,212,.13)}
.ring1{inset:0;animation:spin 22s linear infinite}
.ring2{inset:48px;border-color:rgba(45,139,255,.18);animation:spin 16s linear infinite reverse}
.ring3{inset:96px;border-color:rgba(100,180,255,.2);animation:spin 12s linear infinite}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.orb-core{position:absolute;inset:120px;background:linear-gradient(135deg,var(--b1),var(--b3));border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 20px 60px rgba(26,111,212,.4),0 0 0 18px rgba(26,111,212,.08);animation:orbFloat 4s ease-in-out infinite}
@keyframes orbFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-12px)}}
.orb-emoji{font-size:2.8rem;filter:drop-shadow(0 4px 8px rgba(0,0,0,.2))}
.orb-label{font-size:.82rem;font-weight:800;color:white;letter-spacing:1.5px;margin-top:3px}
.fpill{position:absolute;background:white;border-radius:var(--r2);padding:7px 13px;font-size:.75rem;font-weight:700;color:var(--g1);box-shadow:var(--sh2);border:1px solid var(--g5);white-space:nowrap;animation:fpFloat 3s ease-in-out infinite}
.fp1{top:22px;left:10px;animation-delay:0s}
.fp2{top:48%;right:-18px;animation-delay:1s}
.fp3{bottom:30px;left:18px;animation-delay:2s}
@keyframes fpFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
/* stats strip */
.stats-strip{background:var(--b1);padding:2.25rem}
.stats-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-around;gap:1.5rem;flex-wrap:wrap}
.stat-item{text-align:center}
.stat-num{font-family:'Outfit',sans-serif;font-size:2rem;font-weight:900;color:var(--b3);display:block}
.stat-lbl{font-size:.8rem;color:rgba(255,255,255,.7);font-weight:500}
.stat-div{width:1px;height:48px;background:rgba(255,255,255,.15)}
/* features */
.features{padding:5.5rem 0;background:var(--off)}
.feat-header{text-align:center;margin-bottom:3.5rem}
.feat-header h2{font-size:2.4rem;color:var(--b1);margin-bottom:.7rem}
.feat-header p{font-size:1.05rem;color:var(--g3)}
.feat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.25rem}
.feat-card{background:white;border-radius:var(--r3);padding:1.75rem;border:1px solid var(--g5);box-shadow:var(--sh1);transition:var(--tr);cursor:pointer}
.feat-card:hover{box-shadow:var(--sh3);transform:translateY(-4px);border-color:var(--b5)}
.feat-card.featured{background:linear-gradient(135deg,var(--b1),var(--b3));color:white;border-color:transparent}
.feat-card.featured h3,.feat-card.featured p{color:white}
.feat-card.featured .feat-link{color:rgba(255,255,255,.9)}
.feat-icon{font-size:2.3rem;margin-bottom:.9rem;display:block}
.feat-card h3{font-size:1.1rem;margin-bottom:.65rem;color:var(--b1)}
.feat-card p{font-size:.875rem;color:var(--g3);line-height:1.65;margin-bottom:.9rem}
.feat-link{font-size:.82rem;font-weight:700;color:var(--b2)}
/* CTA */
.cta-sec{padding:5rem 0}
.cta-inner{max-width:1100px;margin:0 auto;padding:0 2rem;display:grid;grid-template-columns:1fr 1fr;gap:3.5rem;align-items:center}
.cta-inner h2{font-size:2.3rem;color:var(--b1);margin-bottom:.9rem}
.cta-inner p{font-size:1rem;color:var(--g3);line-height:1.7;margin-bottom:1.75rem}
.cta-card{background:var(--b6);border-radius:var(--r4);padding:1.75rem;border:1px solid var(--b5)}
.cta-stat{display:flex;align-items:center;gap:12px;padding:.875rem 0;border-bottom:1px solid var(--b5);font-size:.875rem}
.cta-stat:last-child{border-bottom:none}
.cta-stat span{font-size:1.4rem}
.cta-stat strong{display:block;font-size:1.1rem;font-weight:800;color:var(--b1);line-height:1}
.cta-stat small{font-size:.75rem;color:var(--g3)}
/* footer */
.footer{background:var(--b1);color:white;padding:1.75rem 2rem}
.footer-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1.25rem}
.footer-links{display:flex;gap:1.25rem;flex-wrap:wrap}
.footer-links a{color:rgba(255,255,255,.7);font-size:.875rem;font-weight:500;cursor:pointer}
.footer-links a:hover{color:var(--b3)}
.footer-meta{font-size:.8rem;color:rgba(255,255,255,.5);display:flex;align-items:center;gap:6px;flex-wrap:wrap}

/* ============================================================
   SUPPORT CHATBOT
============================================================ */
.support-wrap{position:fixed;bottom:1.75rem;left:1.75rem;z-index:1500}
.chat-toggle-btn{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,var(--b1),var(--b3));color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 24px rgba(26,111,212,.42);transition:var(--tr)}
.chat-toggle-btn:hover{transform:scale(1.1);box-shadow:0 12px 30px rgba(26,111,212,.5)}
.chat-panel{position:absolute;bottom:72px;left:0;width:360px;background:white;border-radius:var(--r4);box-shadow:var(--sh4);border:1px solid var(--g5);display:none;flex-direction:column;overflow:hidden;max-height:530px}
.chat-panel.open{display:flex}
.chat-ph{background:linear-gradient(135deg,var(--b1),var(--b3));color:white;padding:1.1rem 1.4rem;display:flex;align-items:center;justify-content:space-between}
.chat-ph strong{font-size:.95rem}
.chat-ph p{font-size:.72rem;color:rgba(255,255,255,.8);margin-top:2px}
.chat-ph-close{background:none;color:white;font-size:1.1rem}
.chat-msgs{flex:1;overflow-y:auto;padding:.9rem;display:flex;flex-direction:column;gap:9px;max-height:320px;min-height:180px}
.cbubble{max-width:86%;padding:9px 13px;border-radius:var(--r2);font-size:.84rem;line-height:1.5;animation:fadeUp .2s ease}
.cbubble.bot{background:var(--g6);color:var(--g1);border-radius:4px var(--r2) var(--r2) var(--r2);align-self:flex-start}
.cbubble.user{background:linear-gradient(135deg,var(--b1),var(--b3));color:white;border-radius:var(--r2) 4px var(--r2) var(--r2);align-self:flex-end}
.chat-opts{display:flex;flex-direction:column;gap:5px;margin-top:4px}
.chat-opt{padding:7px 12px;border:2px solid var(--b5);border-radius:var(--r1);background:white;color:var(--b2);font-size:.78rem;font-weight:700;text-align:left;cursor:pointer;transition:var(--tr)}
.chat-opt:hover{background:var(--b2);color:white;border-color:var(--b2)}
.chat-input-row{padding:.875rem;border-top:1px solid var(--g5);display:flex;gap:0}
.chat-ti{flex:1;border:2px solid var(--g5);border-right:none;border-radius:var(--r1) 0 0 var(--r1);padding:9px 12px;font-size:.85rem}
.chat-ti:focus{border-color:var(--b2)}
.chat-send{background:linear-gradient(135deg,var(--b2),var(--b3));color:white;padding:9px 16px;border-radius:0 var(--r1) var(--r1) 0;font-weight:700;font-size:.82rem}

/* ============================================================
   ABOUT PAGE
============================================================ */
#page-about{background:var(--white)}
.about-hero{padding:8rem 2rem 4rem;background:linear-gradient(135deg,var(--b1),var(--b2));color:white;text-align:center}
.about-hero h1{font-size:clamp(2.2rem,4.5vw,3.5rem);color:white;margin-bottom:1.1rem}
.about-hero p{font-size:1.1rem;color:rgba(255,255,255,.85);max-width:650px;margin:0 auto;line-height:1.7}
.about-grid{display:grid;grid-template-columns:1fr 360px;gap:3.5rem;align-items:start;max-width:1100px;margin:0 auto;padding:4.5rem 2rem}
.about-text h2{font-size:1.9rem;color:var(--b1);margin-bottom:1.4rem}
.about-text p{color:var(--g3);font-size:.975rem;line-height:1.82;margin-bottom:1.2rem}
.astat-card{background:linear-gradient(135deg,var(--b1),var(--b3));border-radius:var(--r4);padding:1.75rem;margin-bottom:1.4rem;display:grid;grid-template-columns:1fr 1fr;gap:1.25rem}
.astat{text-align:center}
.astat-num{font-family:'Outfit',sans-serif;font-size:1.9rem;font-weight:900;color:white;display:block}
.astat-lbl{font-size:.73rem;color:rgba(255,255,255,.8);font-weight:500}
.aval-card,.ateam-card{background:white;border-radius:var(--r3);padding:1.6rem;border:1px solid var(--g5);box-shadow:var(--sh1);margin-bottom:1.4rem}
.aval-card h3,.ateam-card h3{font-size:1rem;color:var(--b1);margin-bottom:1.1rem}
.aval-list{list-style:none;display:flex;flex-direction:column;gap:.875rem}
.aval-list li{display:flex;gap:11px;align-items:flex-start;font-size:.875rem}
.aval-list li span{font-size:1.1rem;flex-shrink:0;margin-top:2px}
.aval-list li strong{display:block;color:var(--g1);margin-bottom:2px}
.aval-list li p{color:var(--g3);margin:0;font-size:.78rem;line-height:1.5}
.tmember{display:flex;gap:11px;align-items:center;padding:9px 0;border-bottom:1px solid var(--g6)}
.tmember:last-child{border-bottom:none}
.tavatar{width:40px;height:40px;background:var(--b6);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.1rem;flex-shrink:0}
.tmember strong{display:block;font-size:.875rem;color:var(--g1)}
.tmember p{font-size:.75rem;color:var(--g3);margin:0}
.mission-sec{background:var(--b1);padding:4.5rem 2rem;text-align:center}
.mission-sec h2{font-size:1.9rem;color:var(--b3);margin-bottom:1.25rem}
.mission-sec blockquote{font-size:1.2rem;color:rgba(255,255,255,.9);line-height:1.7;font-style:italic;max-width:720px;margin:0 auto 2rem}

/* ============================================================
   AI + ADMIN DASHBOARD PAGE
============================================================ */
#page-dashboard{background:var(--g6)}
.dash-layout{display:grid;grid-template-columns:400px 1fr;height:calc(100vh - 70px);overflow:hidden}
/* AI PANEL */
.ai-panel{background:white;border-right:1px solid var(--g5);display:flex;flex-direction:column;overflow:hidden}
.ai-ph{background:linear-gradient(135deg,var(--b1),var(--b3));padding:1.1rem 1.35rem;flex-shrink:0}
.ai-ph-top{display:flex;align-items:flex-start;justify-content:space-between;gap:.875rem}
.ai-ph h2{color:white;font-size:.95rem;font-weight:700;margin-bottom:5px}
.ai-status-row{display:flex;align-items:center;gap:6px;font-size:.7rem;color:rgba(255,255,255,.85);font-weight:500;flex-wrap:wrap}
.ai-status-row span.sep{margin:0 4px;opacity:.4}
.webcall-btn{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.18);color:white;font-size:1.1rem;display:flex;align-items:center;justify-content:center;border:2px solid rgba(255,255,255,.28);flex-shrink:0;transition:var(--tr)}
.webcall-btn:hover{background:rgba(255,255,255,.32);transform:scale(1.08)}
.ai-msgs{flex:1;overflow-y:auto;padding:1.1rem;display:flex;flex-direction:column;gap:10px}
.ai-bub{max-width:88%;padding:11px 15px;border-radius:var(--r2);font-size:.85rem;line-height:1.55;animation:fadeUp .22s ease}
.ai-bub.bot{background:var(--g6);color:var(--g1);border-radius:4px var(--r2) var(--r2) var(--r2);align-self:flex-start}
.ai-bub.user{background:linear-gradient(135deg,var(--b1),var(--b3));color:white;border-radius:var(--r2) 4px var(--r2) var(--r2);align-self:flex-end}
.ai-bub .bavatar{font-size:1rem;margin-bottom:3px;display:block}
.ai-typing{display:flex;gap:4px;align-items:center;padding:12px 16px;background:var(--g6);border-radius:4px var(--r2) var(--r2) var(--r2);width:fit-content;align-self:flex-start}
.ai-typing span{width:6px;height:6px;background:var(--b2);border-radius:50%;animation:typDot 1.2s infinite}
.ai-typing span:nth-child(2){animation-delay:.2s}
.ai-typing span:nth-child(3){animation-delay:.4s}
@keyframes typDot{0%,80%,100%{transform:scale(1);opacity:.5}40%{transform:scale(1.3);opacity:1}}
.ai-input-area{border-top:1px solid var(--g5);padding:.9rem;background:white;flex-shrink:0}
.rx-banner{background:#fffbeb;border:1px solid #fcd34d;border-radius:var(--r2);padding:11px 14px;display:flex;align-items:center;gap:10px;margin-bottom:10px;font-size:.82rem;display:none}
.rx-banner.show{display:flex}
.rx-banner .ri{font-size:1.1rem}
.rx-banner strong{color:var(--g1);display:block}
.rx-banner small{color:var(--g3)}
.rx-upload-btn{margin-left:auto;padding:7px 13px;background:var(--b2);color:white;border-radius:var(--r1);font-size:.75rem;font-weight:700;display:flex;align-items:center;gap:5px;flex-shrink:0;cursor:pointer;transition:var(--tr)}
.rx-upload-btn:hover{background:var(--b1);transform:translateY(-1px)}
.ai-input-row{display:flex;align-items:center;gap:7px;background:var(--g6);border-radius:var(--r5);padding:5px 5px 5px 12px;border:2px solid var(--g5);transition:var(--tr)}
.ai-input-row:focus-within{border-color:var(--b2);box-shadow:0 0 0 3px rgba(26,111,212,.1);background:white}
.mic-btn{font-size:1.1rem;width:33px;height:33px;border-radius:50%;background:var(--b6);color:var(--b2);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:var(--tr)}
.mic-btn.active{background:var(--red);color:white;animation:micP 1s infinite}
@keyframes micP{0%,100%{box-shadow:0 0 0 0 rgba(239,68,68,.4)}50%{box-shadow:0 0 0 7px rgba(239,68,68,0)}}
.ai-ti{flex:1;background:transparent;font-size:.875rem;color:var(--g1);padding:4px 0}
.ai-ti::placeholder{color:var(--g4)}
.ai-send{padding:8px 18px;background:linear-gradient(135deg,var(--b2),var(--b3));color:white;border-radius:var(--r5);font-weight:700;font-size:.82rem;flex-shrink:0}
.ai-send:hover{transform:scale(1.04)}
/* ADMIN RIGHT */
.admin-r{overflow-y:auto;padding:1.75rem;display:flex;flex-direction:column;gap:1.35rem}
.dash-header{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem}
.dash-header h1{font-size:1.55rem;color:var(--b1)}
.dash-header p{font-size:.82rem;color:var(--g3);margin-top:3px}
/* metrics */
.metrics{display:grid;grid-template-columns:repeat(4,1fr);gap:.875rem}
.mcard{background:white;border-radius:var(--r3);padding:1.1rem;border:1px solid var(--g5);box-shadow:var(--sh1);display:flex;align-items:center;gap:.875rem;transition:var(--tr)}
.mcard:hover{box-shadow:var(--sh2);transform:translateY(-2px)}
.micon{width:44px;height:44px;border-radius:var(--r2);display:flex;align-items:center;justify-content:center;font-size:1.25rem;flex-shrink:0}
.micon.rev{background:#d1fae5}.micon.ord{background:var(--b6)}.micon.al{background:#fef3c7}.micon.bl{background:#ede9fe}
.mval{font-family:'Outfit',sans-serif;font-size:1.55rem;font-weight:800;color:var(--b1);line-height:1}
.mlbl{font-size:.73rem;color:var(--g3);margin-top:2px;font-weight:500}
.mch{font-size:.68rem;font-weight:700;margin-top:3px}
.mch.pos{color:var(--green)}.mch.neg{color:var(--orange)}.mch.neu{color:var(--g4)}
/* charts row */
.charts-row{display:grid;grid-template-columns:1.6fr 1fr;gap:.875rem}
.chart-card{background:white;border-radius:var(--r3);padding:1.1rem;border:1px solid var(--g5);box-shadow:var(--sh1)}
.cc-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:.875rem}
.cc-head h3{font-size:.9rem;color:var(--b1);font-weight:700}
.chart-h{position:relative;height:190px}
/* bottom row */
.bot-row{display:grid;grid-template-columns:1.4fr 1fr;gap:.875rem}
.tcard{background:white;border-radius:var(--r3);border:1px solid var(--g5);box-shadow:var(--sh1);overflow:hidden}
.tcard-head{padding:.875rem 1.1rem;border-bottom:1px solid var(--g5);display:flex;align-items:center;justify-content:space-between}
.tcard-head h3{font-size:.9rem;color:var(--b1);font-weight:700}
.side-cards{display:flex;flex-direction:column;gap:.875rem}
.seller-item{display:flex;align-items:center;gap:9px;padding:7px 0;border-bottom:1px solid var(--g6);font-size:.82rem}
.seller-item:last-child{border-bottom:none}
.s-rank{width:20px;height:20px;border-radius:50%;background:var(--b6);color:var(--b2);display:flex;align-items:center;justify-content:center;font-size:.65rem;font-weight:800;flex-shrink:0}
.s-name{flex:1;font-weight:600;color:var(--g1)}
.s-cnt{color:var(--g3);font-size:.73rem}
.s-rev{font-weight:700;color:var(--b2)}
/* prescr upload zone */
.rx-zone{border:2px dashed var(--b5);border-radius:var(--r3);padding:2.25rem;text-align:center;cursor:pointer;transition:var(--tr);background:var(--b6)}
.rx-zone:hover{border-color:var(--b2);background:var(--b5)}
.rx-zone-icon{font-size:2.8rem;margin-bottom:.875rem}
.rx-zone p{color:var(--g3);font-size:.875rem}

/* ============================================================
   ADMIN PANEL PAGE
============================================================ */
#page-admin{background:var(--g6)}
.admin-layout{display:grid;grid-template-columns:210px 1fr;min-height:calc(100vh - 70px)}
.admin-sidebar{background:white;border-right:1px solid var(--g5);padding:1.25rem .875rem;position:sticky;top:70px;height:calc(100vh - 70px);overflow-y:auto;display:flex;flex-direction:column;gap:3px}
.sb-btn{width:100%;padding:9px 13px;border-radius:var(--r1);background:transparent;color:var(--g3);font-size:.85rem;font-weight:600;text-align:left;display:flex;align-items:center;gap:9px;transition:var(--tr)}
.sb-btn:hover{background:var(--b6);color:var(--b2)}
.sb-btn.active{background:var(--b2);color:white;box-shadow:var(--sh2)}
.sb-div{height:1px;background:var(--g5);margin:.875rem 0}
.sb-qs{margin-top:auto;padding-top:.875rem}
.sq-title{font-size:.68rem;text-transform:uppercase;letter-spacing:1px;color:var(--g4);font-weight:700;margin-bottom:.65rem}
.sq-item{display:flex;align-items:center;gap:9px;padding:7px 0;border-bottom:1px solid var(--g6);font-size:.82rem}
.sq-item:last-child{border-bottom:none}
.sq-item strong{display:block;font-size:.85rem;color:var(--g1);line-height:1}
.sq-item small{font-size:.68rem;color:var(--g4)}
.admin-main{padding:1.75rem;overflow-y:auto}
.asec{display:none;flex-direction:column;gap:1.35rem}
.asec.show{display:flex}
.asec-title-row{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;flex-wrap:wrap}
.asec-title-row h1{font-size:1.55rem;color:var(--b1)}
.asec-sub{font-size:.82rem;color:var(--g3);margin-top:3px}
.filter-row{display:flex;gap:.875rem;align-items:center;flex-wrap:wrap}
.inv-alerts{display:flex;flex-direction:column;gap:7px}
.inv-alert{display:flex;align-items:center;gap:11px;padding:11px 15px;border-radius:var(--r2);font-size:.85rem;font-weight:600;border:1px solid}
.inv-alert.crit{background:#fef2f2;border-color:#fecaca;color:#b91c1c}
.inv-alert.low{background:#fffbeb;border-color:#fcd34d;color:#92400e}
.ov-metrics{display:grid;grid-template-columns:repeat(4,1fr);gap:.875rem}
.ov-charts{display:grid;grid-template-columns:1.6fr 1fr;gap:.875rem}
.ov-bottom{display:grid;grid-template-columns:1.4fr 1fr;gap:.875rem}
.an-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem}
.action-btns{display:flex;gap:5px}
.ab{padding:5px 9px;border-radius:6px;font-size:.72rem;font-weight:700;cursor:pointer;transition:var(--tr)}
.ab.edit{background:var(--b6);color:var(--b2)}
.ab.del{background:#fee2e2;color:#dc2626}
.ab.edit:hover{background:var(--b2);color:white}
.ab.del:hover{background:#dc2626;color:white}
.top-prod-item{display:flex;align-items:center;gap:11px;padding:9px 0;border-bottom:1px solid var(--g6);font-size:.82rem}
.top-prod-item:last-child{border-bottom:none}
.tp-icon{width:34px;height:34px;border-radius:7px;background:var(--b6);display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0}
.tp-name{flex:1}
.tp-name strong{display:block;font-size:.82rem;color:var(--g1)}
.tp-name small{font-size:.7rem;color:var(--g4)}
.tp-price{font-weight:800;color:var(--b2)}

/* ============================================================
   ENDPOINTS PAGE
============================================================ */
#page-endpoints{background:var(--g6)}
.ep-wrap{max-width:920px;margin:0 auto;padding:3rem 2rem}
.ep-wrap h1{font-size:2rem;color:var(--b1);margin-bottom:.5rem}
.ep-wrap>p{color:var(--g3);margin-bottom:1.5rem;font-size:.95rem;line-height:1.7}
.base-url-box{background:var(--b1);color:white;padding:9px 16px;border-radius:var(--r1);font-family:monospace;font-size:.88rem;display:inline-block;margin-bottom:2rem}
.ep-sec{background:white;border-radius:var(--r3);border:1px solid var(--g5);overflow:hidden;margin-bottom:1.25rem;box-shadow:var(--sh1)}
.ep-sec-h{background:linear-gradient(135deg,var(--b1),var(--b2));color:white;padding:.875rem 1.4rem;font-size:.95rem;font-weight:700}
.ep-item{padding:1.1rem 1.4rem;border-bottom:1px solid var(--g5)}
.ep-item:last-child{border-bottom:none}
.ep-mrow{display:flex;align-items:center;gap:11px;margin-bottom:6px}
.ep-m{padding:3px 9px;border-radius:5px;font-size:.7rem;font-weight:800;font-family:monospace}
.ep-m.POST{background:#dcfce7;color:#166534}.ep-m.GET{background:var(--b6);color:var(--b2)}.ep-m.PUT{background:#fef9c3;color:#854d0e}.ep-m.DELETE{background:#fee2e2;color:#991b1b}
.ep-path{font-family:monospace;font-size:.92rem;font-weight:700;color:var(--b1)}
.ep-desc{font-size:.84rem;color:var(--g3);margin-bottom:9px}
.ep-code{background:var(--g6);border-radius:7px;padding:11px 15px;font-family:monospace;font-size:.78rem;color:var(--g2);overflow-x:auto;line-height:1.7}
.ep-code .k{color:var(--b2)}.ep-code .v{color:#059669}

/* ============================================================
   ANIMATIONS
============================================================ */
@keyframes fadeUp{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeRight{from{opacity:0;transform:translateX(28px)}to{opacity:1;transform:translateX(0)}}

/* ============================================================
   RESPONSIVE
============================================================ */
@media(max-width:1280px){
  .dash-layout{grid-template-columns:360px 1fr}
  .metrics{grid-template-columns:repeat(2,1fr)}
  .charts-row{grid-template-columns:1fr}
  .bot-row{grid-template-columns:1fr}
  .ov-metrics{grid-template-columns:repeat(2,1fr)}
  .ov-charts{grid-template-columns:1fr}
  .ov-bottom{grid-template-columns:1fr}
  .an-grid{grid-template-columns:1fr}
}
@media(max-width:1024px){
  .hero{grid-template-columns:1fr;text-align:center;padding:7rem 1.5rem 3rem}
  .hero-orb{width:280px;height:280px}
  .hero-visual{order:-1}
  .hero-sub{margin:0 auto 1.8rem}
  .hero-btns{justify-content:center}
  .cta-inner{grid-template-columns:1fr}
  .about-grid{grid-template-columns:1fr}
  .dash-layout{grid-template-columns:1fr;height:auto;overflow:visible}
  .ai-panel{height:500px}
  .admin-r{overflow:visible}
  .admin-layout{grid-template-columns:1fr}
  .admin-sidebar{position:relative;top:0;height:auto;flex-direction:row;flex-wrap:wrap;gap:4px;border-right:none;border-bottom:1px solid var(--g5)}
  .sb-qs{display:none}
}
@media(max-width:768px){
  .nav-links{display:none}
  .metrics{grid-template-columns:1fr}
  .ov-metrics{grid-template-columns:1fr}
  .ep-wrap{padding:2rem 1rem}
  .chat-panel{width:300px}
}
</style>
</head>
<body>

<!-- ============================================================
     NAVBAR
============================================================ -->
<nav class="navbar" role="navigation" aria-label="Main Navigation">
  <div class="nav-inner">
    <div class="nav-logo" onclick="goTo('home')" role="button" tabindex="0" aria-label="AI Web Agent Home">
      <div class="nav-logo-icon">âš•</div>
      AI Web Agent
    </div>

    <ul class="nav-links" role="list">
      <li><a onclick="goTo('home')" id="nav-home" class="active" role="button" tabindex="0" aria-current="page">Home</a></li>
      <li><a onclick="goTo('about')" id="nav-about" role="button" tabindex="0">About</a></li>
      <li><a onclick="goTo('dashboard')" id="nav-dashboard" role="button" tabindex="0">AI + Admin Dashboard</a></li>
      <li><a onclick="goTo('admin')" id="nav-admin" role="button" tabindex="0">Admin Panel</a></li>
      <li><a onclick="goTo('endpoints')" id="nav-endpoints" role="button" tabindex="0">API Docs</a></li>
    </ul>

    <div class="nav-actions">
      <div class="notif-wrap">
        <button class="nav-icon-btn" onclick="toggleNotif()" aria-label="Notifications" aria-haspopup="true">
          ğŸ””<span class="badge-dot" id="notifDot">3</span>
        </button>
        <div class="notif-drop" id="notifDrop" role="menu">
          <div class="notif-head"><span>Notifications</span><button onclick="clearNotifs()" style="background:none;color:var(--b2);font-size:.78rem;font-weight:700">Clear all</button></div>
          <div id="notifList"></div>
        </div>
      </div>
      <button class="btn-safety" aria-label="Safety & Compliance">ğŸ›¡ï¸ <span>Safety</span></button>
      <button class="nav-icon-btn" aria-label="Cart (3 items)">ğŸ›’<span class="badge-dot">3</span></button>
      <button class="btn-login" onclick="openModal('loginModal')" aria-label="Login">Login</button>
    </div>
  </div>
</nav>

<!-- ============================================================
     HOME PAGE
============================================================ -->
<div id="page-home" class="page active">
  <div class="hero-bg">
    <div class="blob blob1"></div>
    <div class="blob blob2"></div>
  </div>
  <div class="grid-bg"></div>

  <section class="hero" aria-label="Hero">
    <div class="hero-content">
      <div class="hero-badge"><span class="dot dot-green"></span>AI System Operational Â· Compliance Engine Active</div>
      <h1 class="hero-title">The Future of<br><span class="hero-title-grad">Smart Pharmacy</span><br>is Here</h1>
      <p class="hero-sub">AI-powered medication ordering, real-time inventory management, and prescription verification â€” all in one intelligent platform built for healthcare professionals.</p>
      <div class="hero-btns">
        <button class="btn-primary" onclick="goTo('dashboard')" aria-label="Get Started">ğŸš€ Get Started</button>
        <button class="btn-secondary" aria-label="Watch Demo">â–¶ Watch Demo</button>
      </div>
      <div class="search-hero">
        <div class="search-box">
          <span class="search-icon">ğŸ”</span>
          <input type="search" class="search-input" id="heroSearch" placeholder="Search medicine by name, category..." aria-label="Search medicine" autocomplete="off">
          <button class="search-btn" onclick="doSearch()" aria-label="Search">Search</button>
        </div>
        <div class="search-drop" id="searchDrop" role="listbox"></div>
        <div class="search-tags">
          <span class="stag" onclick="fillSearch('Paracetamol')">ğŸ’Š Paracetamol</span>
          <span class="stag" onclick="fillSearch('Ibuprofen')">ğŸ§´ Ibuprofen</span>
          <span class="stag" onclick="fillSearch('Amoxicillin')">ğŸ’‰ Amoxicillin</span>
          <span class="stag" onclick="fillSearch('Cetirizine')">ğŸ©º Cetirizine</span>
        </div>
      </div>
    </div>

    <div class="hero-visual" aria-hidden="true">
      <div class="hero-orb">
        <div class="ring ring1"></div>
        <div class="ring ring2"></div>
        <div class="ring ring3"></div>
        <div class="orb-core">
          <span class="orb-emoji">ğŸ’Š</span>
          <span class="orb-label">AI Rx</span>
        </div>
        <div class="fpill fp1">Paracetamol âœ“</div>
        <div class="fpill fp2">Stock: 32 ğŸŸ¢</div>
        <div class="fpill fp3">Order #1023 âœ…</div>
      </div>
    </div>
  </section>

  <div class="stats-strip">
    <div class="stats-inner">
      <div class="stat-item"><span class="stat-num">98.7%</span><span class="stat-lbl">Prescription Accuracy</span></div>
      <div class="stat-div"></div>
      <div class="stat-item"><span class="stat-num">1,200+</span><span class="stat-lbl">Medicines in Stock</span></div>
      <div class="stat-div"></div>
      <div class="stat-item"><span class="stat-num">5,000+</span><span class="stat-lbl">Orders Processed</span></div>
      <div class="stat-div"></div>
      <div class="stat-item"><span class="stat-num">24/7</span><span class="stat-lbl">AI Assistance</span></div>
    </div>
  </div>

  <section class="features" aria-labelledby="feat-title">
    <div class="section-wrap">
      <div class="feat-header">
        <h2 id="feat-title">Everything You Need in One Platform</h2>
        <p>Powerful tools for modern pharmacy management, driven by AI</p>
      </div>
      <div class="feat-grid">
        <div class="feat-card" onclick="goTo('dashboard')" tabindex="0" role="button">
          <span class="feat-icon">ğŸ¤–</span>
          <h3>AI Medication Assistant</h3>
          <p>Chat or voice-based ordering with full prescription validation, compliance checks, and intelligent drug interaction alerts.</p>
          <span class="feat-link">Try Now â†’</span>
        </div>
        <div class="feat-card featured" onclick="goTo('admin')" tabindex="0" role="button">
          <span class="feat-icon">ğŸ“Š</span>
          <h3>Admin Dashboard</h3>
          <p>Real-time stock tracking, revenue analytics, top sellers, low stock alerts, and full order management in beautiful charts.</p>
          <span class="feat-link">Open Dashboard â†’</span>
        </div>
        <div class="feat-card" onclick="goTo('dashboard')" tabindex="0" role="button">
          <span class="feat-icon">ğŸ“„</span>
          <h3>Prescription Verification</h3>
          <p>Automated prescription upload and verification. No restricted medicines without valid prescriptions â€” ever.</p>
          <span class="feat-link">Learn More â†’</span>
        </div>
        <div class="feat-card" tabindex="0" role="button">
          <span class="feat-icon">ğŸ””</span>
          <h3>Smart Notifications</h3>
          <p>Real-time alerts for low stock, new offers, refill arrivals, and order updates â€” pushed directly to your panel.</p>
          <span class="feat-link">See Alerts â†’</span>
        </div>
        <div class="feat-card" onclick="goTo('admin')" tabindex="0" role="button">
          <span class="feat-icon">ğŸ‘¥</span>
          <h3>Customer Management</h3>
          <p>Full customer profiles, order histories, prescription records, and the ability to add new patients with ease.</p>
          <span class="feat-link">Manage â†’</span>
        </div>
        <div class="feat-card" onclick="goTo('dashboard')" tabindex="0" role="button">
          <span class="feat-icon">ğŸ™ï¸</span>
          <h3>Voice AI Agent</h3>
          <p>Hands-free medication ordering through the Vapi-powered voice assistant. Just speak and the AI handles the rest.</p>
          <span class="feat-link">Try Voice â†’</span>
        </div>
      </div>
    </div>
  </section>

  <section class="cta-sec" aria-labelledby="cta-title">
    <div class="cta-inner">
      <div>
        <h2 id="cta-title">Ready to Transform Your Pharmacy?</h2>
        <p>Join hundreds of pharmacies already using AI Web Agent to streamline operations, reduce errors, and serve patients better.</p>
        <button class="btn-primary" onclick="goTo('dashboard')">ğŸš€ Get Started Free</button>
      </div>
      <div class="cta-card">
        <div class="cta-stat"><span>ğŸ“¦</span><div><strong>1,023</strong><small>Orders Today</small></div></div>
        <div class="cta-stat"><span>ğŸ’°</span><div><strong>$48,200</strong><small>Revenue This Month</small></div></div>
        <div class="cta-stat"><span>ğŸŸ¢</span><div><strong>Online</strong><small>System Status</small></div></div>
        <div class="cta-stat"><span>ğŸ›¡ï¸</span><div><strong>12 Blocked</strong><small>Rx Violations Today</small></div></div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="footer-inner">
      <div class="nav-logo" style="color:white"><div class="nav-logo-icon">âš•</div>AI Web Agent</div>
      <nav class="footer-links">
        <a onclick="goTo('home')">Home</a>
        <a onclick="goTo('about')">About</a>
        <a onclick="goTo('dashboard')">Dashboard</a>
        <a onclick="goTo('admin')">Admin Panel</a>
        <a onclick="goTo('endpoints')">API Docs</a>
      </nav>
      <div class="footer-meta"><span class="dot dot-green"></span>All Systems Operational<span style="margin-left:1rem">Â© 2024 AI Web Agent</span></div>
    </div>
  </footer>
</div>

<!-- ============================================================
     ABOUT PAGE
============================================================ -->
<div id="page-about" class="page">
  <div class="about-hero">
    <div class="hero-badge" style="background:rgba(255,255,255,.15);border-color:rgba(255,255,255,.3);color:white;margin-bottom:1.25rem;display:inline-flex"><span class="dot dot-green"></span>Trusted by 500+ Pharmacies Worldwide</div>
    <h1>About AI Web Agent</h1>
    <p>We're building the future of intelligent, compliant, and human-centered pharmacy management â€” powered by artificial intelligence and driven by an unwavering commitment to patient safety.</p>
  </div>

  <div class="about-grid">
    <div class="about-text">
      <h2>Our Story</h2>
      <p>AI Web Agent was born from a simple observation: pharmacy management in the modern world was still stuck in outdated systems â€” paper prescriptions, manual inventory tracking, and zero real-time insights. We saw an opportunity to change that fundamentally.</p>
      <p>Founded by a team of healthcare technologists, AI researchers, and pharmacists, AI Web Agent set out to build a platform that doesn't just digitize existing workflows â€” it reimagines them entirely. We asked ourselves: what would pharmacy management look like if it were designed from the ground up today, with everything we know about AI, cloud computing, and user experience?</p>
      <p>The result is a platform that brings together natural language AI (so pharmacists and patients can just talk to it), real-time inventory intelligence, prescription compliance enforcement, and a beautiful dashboard that makes complex data feel simple and actionable.</p>
      <p>Today, we serve hundreds of pharmacies across the country, processing thousands of orders daily, catching prescription violations before they happen, and helping pharmacy teams work smarter â€” not harder. Our AI assistant handles medication inquiries, flags drug interactions, verifies prescriptions, and even manages reorder alerts automatically.</p>
      <p>But what we're most proud of isn't the technology. It's the patient safety outcomes. Every prescription block, every low-stock alert, every dosage warning caught by our compliance engine represents a real person being protected. That's why we built this. That's why we wake up every morning and keep building it.</p>
      <p>We believe that the pharmacy of the future is one where healthcare professionals spend more time on what matters â€” the human side of care â€” and less time wrestling with spreadsheets, paper forms, and outdated software. AI Web Agent is that future, available today.</p>
      <p>Whether you're a solo pharmacist running a single store, or a healthcare network managing dozens of locations, our platform scales with you. Our compliance engine automatically adapts to regulations, our AI model learns from your inventory patterns, and our support team is always available when you need a human touch.</p>
      <p>Join us in building a healthier world â€” one prescription at a time.</p>
    </div>

    <div>
      <div class="astat-card">
        <div class="astat"><span class="astat-num">500+</span><span class="astat-lbl">Pharmacies Served</span></div>
        <div class="astat"><span class="astat-num">2M+</span><span class="astat-lbl">Prescriptions Verified</span></div>
        <div class="astat"><span class="astat-num">99.9%</span><span class="astat-lbl">Uptime SLA</span></div>
        <div class="astat"><span class="astat-num">24/7</span><span class="astat-lbl">AI Support</span></div>
      </div>

      <div class="aval-card">
        <h3>Our Core Values</h3>
        <ul class="aval-list">
          <li><span>ğŸ›¡ï¸</span><div><strong>Safety First</strong><p>Every decision we make is filtered through the lens of patient safety and compliance.</p></div></li>
          <li><span>ğŸ¤–</span><div><strong>AI with Empathy</strong><p>Our AI doesn't replace human care â€” it enhances it by handling the tedious so people can focus on the meaningful.</p></div></li>
          <li><span>ğŸŒ</span><div><strong>Accessibility</strong><p>Designed for every user, regardless of technical ability or disability.</p></div></li>
          <li><span>ğŸ”’</span><div><strong>Data Privacy</strong><p>Patient data is sacred. We maintain the highest standards of encryption and compliance.</p></div></li>
        </ul>
      </div>

      <div class="ateam-card">
        <h3>Our Leadership</h3>
        <div class="tmember"><div class="tavatar">ğŸ‘¨â€âš•ï¸</div><div><strong>Dr. Amir Khan</strong><p>CEO & Co-Founder Â· Ex-WHO Health Tech Advisor</p></div></div>
        <div class="tmember"><div class="tavatar">ğŸ‘©â€ğŸ’»</div><div><strong>Priya Sharma</strong><p>CTO Â· AI/ML Lead Â· Former Google Health</p></div></div>
        <div class="tmember"><div class="tavatar">ğŸ‘¨â€ğŸ’¼</div><div><strong>James O'Brien</strong><p>COO Â· 15yr Healthcare Operations</p></div></div>
      </div>
    </div>
  </div>

  <div class="mission-sec">
    <h2>Our Mission</h2>
    <blockquote>"To make intelligent, safe, and accessible pharmacy management available to every healthcare provider on the planet â€” regardless of size, budget, or technical expertise."</blockquote>
    <button class="btn-primary" onclick="goTo('dashboard')">Explore the Platform â†’</button>
  </div>

  <footer class="footer">
    <div class="footer-inner">
      <div class="nav-logo" style="color:white"><div class="nav-logo-icon">âš•</div>AI Web Agent</div>
      <nav class="footer-links">
        <a onclick="goTo('home')">Home</a><a onclick="goTo('about')">About</a><a onclick="goTo('dashboard')">Dashboard</a><a onclick="goTo('admin')">Admin Panel</a>
      </nav>
      <div class="footer-meta"><span class="dot dot-green"></span>All Systems Operational</div>
    </div>
  </footer>
</div>

<!-- ============================================================
     AI + ADMIN DASHBOARD PAGE
============================================================ -->
<div id="page-dashboard" class="page">
  <div class="dash-layout">

    <!-- LEFT: AI CHAT -->
    <aside class="ai-panel" aria-label="AI Pharmacy Assistant">
      <div class="ai-ph">
        <div class="ai-ph-top">
          <div>
            <h2>ğŸ¤– AI Pharmacy Assistant</h2>
            <div class="ai-status-row">
              <span class="dot dot-green"></span>System: Operational
              <span class="sep">|</span>
              <span class="dot dot-green"></span>Compliance: Active
            </div>
          </div>
          <button class="webcall-btn" onclick="startWebCall()" aria-label="Start Web Voice Call" title="Start Voice Call">ğŸ“</button>
        </div>
      </div>

      <div class="ai-msgs" id="aiMsgs" aria-live="polite"></div>

      <div class="ai-input-area">
        <div class="rx-banner" id="rxBanner" role="alert">
          <span class="ri">âš ï¸</span>
          <div><strong>Prescription Required</strong><small>This medicine needs a valid prescription to proceed.</small></div>
          <button class="rx-upload-btn" onclick="openModal('rxModal')">ğŸ“„ Upload Prescription</button>
        </div>
        <div class="ai-input-row">
          <button class="mic-btn" id="micBtn" onclick="toggleVoice()" aria-label="Start voice input">ğŸ™ï¸</button>
          <input type="text" class="ai-ti" id="aiInput" placeholder="Speak or type your request..." aria-label="Type your medication request">
          <button class="ai-send" onclick="sendAiMsg()" aria-label="Send">Send</button>
        </div>
      </div>
    </aside>

    <!-- RIGHT: ADMIN DASHBOARD -->
    <main class="admin-r" aria-label="Admin Dashboard">
      <div class="dash-header">
        <div>
          <h1>Admin Dashboard</h1>
          <p>Real-time pharmacy intelligence & analytics</p>
        </div>
        <div style="display:flex;gap:.875rem;align-items:center">
          <select class="form-input" id="periodSel" onchange="updatePeriod()" style="width:140px" aria-label="Time period">
            <option value="today">Today</option>
            <option value="week" selected>This Week</option>
            <option value="month">This Month</option>
          </select>
        </div>
      </div>

      <!-- METRICS -->
      <div class="metrics">
        <div class="mcard"><div class="micon rev">ğŸ’°</div><div><div class="mval" id="dMetRev">$48,200</div><div class="mlbl">Total Revenue</div><div class="mch pos">â–² 2% this week</div></div></div>
        <div class="mcard"><div class="micon ord">ğŸ“¦</div><div><div class="mval" id="dMetOrd">1,023</div><div class="mlbl">Total Orders</div><div class="mch pos">â–² 8% this week</div></div></div>
        <div class="mcard"><div class="micon al">âš ï¸</div><div><div class="mval" id="dMetLow">3</div><div class="mlbl">Low Stock Alerts</div><div class="mch neg">â–¼ Needs attention</div></div></div>
        <div class="mcard"><div class="micon bl">ğŸ›¡ï¸</div><div><div class="mval" id="dMetBlk">12</div><div class="mlbl">Prescription Blocks</div><div class="mch neu">Compliance enforced</div></div></div>
      </div>

      <!-- CHARTS -->
      <div class="charts-row">
        <div class="chart-card"><div class="cc-head"><h3>Total Revenue</h3><span class="badge badge-blue">This Week</span></div><div class="chart-h"><canvas id="dRevChart" aria-label="Revenue chart"></canvas></div></div>
        <div class="chart-card"><div class="cc-head"><h3>Orders By Time</h3><span class="badge badge-green" style="display:flex;align-items:center;gap:4px"><span class="dot dot-green"></span>Live</span></div><div class="chart-h"><canvas id="dOrdChart" aria-label="Orders chart"></canvas></div></div>
      </div>

      <!-- BOTTOM -->
      <div class="bot-row">
        <div class="tcard">
          <div class="tcard-head"><h3>Recent Orders</h3><a class="feat-link" onclick="goTo('admin')" style="cursor:pointer;font-size:.82rem">View All â†’</a></div>
          <div style="overflow-x:auto"><table class="tbl" aria-label="Recent orders"><thead><tr><th>Order ID</th><th>Medicine</th><th>Price</th><th>Status</th><th>Payment</th></tr></thead><tbody id="dOrdersBody"></tbody></table></div>
        </div>
        <div class="side-cards">
          <div class="card" style="padding:1.1rem" aria-label="Top Sellers">
            <h3 style="font-size:.9rem;margin-bottom:.875rem;color:var(--b1)">ğŸ† Top Sellers This Week</h3>
            <div id="dTopSellers"></div>
          </div>
          <div class="chart-card" aria-label="Stock Distribution">
            <div class="cc-head"><h3>Inventory Status</h3><span class="badge badge-blue">Live</span></div>
            <div style="position:relative;height:180px"><canvas id="dStockChart" aria-label="Stock donut chart"></canvas></div>
          </div>
        </div>
      </div>

      <!-- STOCK TABLE -->
      <div class="tcard" style="margin-top:.25rem">
        <div class="tcard-head"><h3>Current Stock Overview</h3><span class="badge badge-blue">Updated now</span></div>
        <div style="overflow-x:auto"><table class="tbl" aria-label="Stock overview"><thead><tr><th>Medicine</th><th>Stock</th><th>Status</th><th>Category</th><th>Reorder Level</th></tr></thead><tbody id="dStockBody"></tbody></table></div>
      </div>
    </main>
  </div>
</div>

<!-- ============================================================
     ADMIN PANEL PAGE
============================================================ -->
<div id="page-admin" class="page">
  <div class="admin-layout">

    <!-- SIDEBAR -->
    <aside class="admin-sidebar" aria-label="Admin Navigation">
      <button class="sb-btn active" onclick="showAdminSec('overview',this)" aria-pressed="true"><span>ğŸ“Š</span>Overview</button>
      <button class="sb-btn" onclick="showAdminSec('orders',this)" aria-pressed="false"><span>ğŸ“¦</span>Orders</button>
      <button class="sb-btn" onclick="showAdminSec('customers',this)" aria-pressed="false"><span>ğŸ‘¥</span>Customers</button>
      <button class="sb-btn" onclick="showAdminSec('inventory',this)" aria-pressed="false"><span>ğŸ’Š</span>Inventory</button>
      <button class="sb-btn" onclick="showAdminSec('analytics',this)" aria-pressed="false"><span>ğŸ“ˆ</span>Analytics</button>
      <div class="sb-div"></div>
      <div class="sb-qs">
        <div class="sq-title">Quick Stats</div>
        <div class="sq-item"><span>ğŸ’°</span><div><strong>$48,200</strong><small>Revenue</small></div></div>
        <div class="sq-item"><span>ğŸ“¦</span><div><strong>1,023</strong><small>Orders</small></div></div>
        <div class="sq-item"><span>ğŸ‘¥</span><div><strong>342</strong><small>Customers</small></div></div>
      </div>
    </aside>

    <!-- MAIN -->
    <div class="admin-main">

      <!-- OVERVIEW -->
      <section id="asec-overview" class="asec show" aria-labelledby="asec-ov-title">
        <div class="asec-title-row"><div><h1 id="asec-ov-title">Sales Overview</h1><p class="asec-sub">Let's check your pharmacy today</p></div></div>
        <div class="ov-metrics">
          <div class="mcard"><div class="micon rev">ğŸ’°</div><div><div class="mval">$112,200</div><div class="mlbl">Total Revenue</div><div class="mch pos">â–² 2% last week</div></div></div>
          <div class="mcard"><div class="micon ord">ğŸ“Š</div><div><div class="mval">$12,500</div><div class="mlbl">Total Profit</div><div class="mch pos">â–² 8% last week</div></div></div>
          <div class="mcard"><div class="micon al">ğŸ’¸</div><div><div class="mval">$48,200</div><div class="mlbl">Total Cost</div><div class="mch neg">â–¼ 0.2% last week</div></div></div>
          <div class="mcard"><div class="micon bl">ğŸ›’</div><div><div class="mval">$96.50</div><div class="mlbl">Avg. Order Value</div><div class="mch pos">â–² 5% last week</div></div></div>
        </div>
        <div class="ov-charts">
          <div class="chart-card"><div class="cc-head"><h3>Total Revenue</h3><span class="badge badge-blue">This Month</span></div><div style="height:240px"><canvas id="ovRevChart"></canvas></div></div>
          <div class="chart-card"><div class="cc-head"><h3>Orders By Time</h3></div><div style="height:240px"><canvas id="ovOrdChart"></canvas></div></div>
        </div>
        <div class="ov-bottom">
          <div class="tcard">
            <div class="tcard-head"><h3>Recent Orders</h3><button onclick="showAdminSec('orders',document.querySelector('.sb-btn:nth-child(2)'))" class="feat-link" style="background:none;font-size:.82rem;cursor:pointer">View All â†’</button></div>
            <div style="overflow-x:auto"><table class="tbl" aria-label="Recent orders"><thead><tr><th>Order ID</th><th>Medicine</th><th>Price</th><th>Status</th><th>Payment</th><th>Action</th></tr></thead><tbody id="ovOrdersBody"></tbody></table></div>
          </div>
          <div class="card" style="padding:1.1rem">
            <h3 style="font-size:.9rem;margin-bottom:.875rem;color:var(--b1)">ğŸ† Top Products</h3>
            <div id="ovTopProds"></div>
          </div>
        </div>
      </section>

      <!-- ORDERS -->
      <section id="asec-orders" class="asec" aria-labelledby="asec-ord-title">
        <div class="asec-title-row"><div><h1 id="asec-ord-title">Orders Management</h1><p class="asec-sub">View, manage and add orders</p></div><button class="btn-primary btn-sm" onclick="openModal('addOrderModal')">â• Add Order</button></div>
        <div class="filter-row"><input type="search" class="form-input" id="ordSearch" placeholder="Search orders..." style="max-width:280px" oninput="filterOrders()" aria-label="Search orders"><select class="form-input" style="width:140px" onchange="filterOrders()" id="ordStatusFilter" aria-label="Filter by status"><option value="">All Status</option><option>Completed</option><option>In Progress</option><option>Pending</option></select></div>
        <div class="tbl-wrap"><table class="tbl" aria-label="Orders"><thead><tr><th>Order ID</th><th>Customer</th><th>Medicine</th><th>Price</th><th>Status</th><th>Payment</th><th>Actions</th></tr></thead><tbody id="ordersBody"></tbody></table></div>
      </section>

      <!-- CUSTOMERS -->
      <section id="asec-customers" class="asec" aria-labelledby="asec-cust-title">
        <div class="asec-title-row"><div><h1 id="asec-cust-title">Customer Management</h1><p class="asec-sub">View and manage all customers</p></div><button class="btn-primary btn-sm" onclick="openModal('addCustModal')">â• Add Customer</button></div>
        <div class="filter-row"><input type="search" class="form-input" id="custSearch" placeholder="Search customers..." style="max-width:280px" oninput="filterCustomers()" aria-label="Search customers"></div>
        <div class="tbl-wrap"><table class="tbl" aria-label="Customers"><thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Phone</th><th>Orders</th><th>Status</th><th>Actions</th></tr></thead><tbody id="custBody"></tbody></table></div>
      </section>

      <!-- INVENTORY -->
      <section id="asec-inventory" class="asec" aria-labelledby="asec-inv-title">
        <div class="asec-title-row"><div><h1 id="asec-inv-title">Inventory Management</h1><p class="asec-sub">Track stock levels and manage medicines</p></div><button class="btn-primary btn-sm" onclick="openModal('addMedModal')">â• Add Medicine</button></div>
        <div class="inv-alerts" id="invAlerts" aria-live="polite"></div>
        <div class="tbl-wrap"><table class="tbl" aria-label="Inventory"><thead><tr><th>Medicine</th><th>Category</th><th>Stock</th><th>Status</th><th>Price</th><th>Rx Required</th><th>Actions</th></tr></thead><tbody id="invBody"></tbody></table></div>
      </section>

      <!-- ANALYTICS -->
      <section id="asec-analytics" class="asec" aria-labelledby="asec-an-title">
        <div class="asec-title-row"><h1 id="asec-an-title">Analytics & Reports</h1></div>
        <div class="an-grid">
          <div class="chart-card"><div class="cc-head"><h3>Weekly Revenue Trend</h3></div><div style="height:240px"><canvas id="anRevChart"></canvas></div></div>
          <div class="chart-card"><div class="cc-head"><h3>Medicine Categories</h3></div><div style="height:240px"><canvas id="anCatChart"></canvas></div></div>
          <div class="chart-card"><div class="cc-head"><h3>Top 5 by Volume</h3></div><div style="height:240px"><canvas id="anTopChart"></canvas></div></div>
          <div class="chart-card"><div class="cc-head"><h3>Monthly Orders</h3></div><div style="height:240px"><canvas id="anMonChart"></canvas></div></div>
        </div>
      </section>
    </div>
  </div>
</div>

<!-- ============================================================
     API ENDPOINTS PAGE
============================================================ -->
<div id="page-endpoints" class="page" style="background:var(--g6)">
  <div class="ep-wrap">
    <h1>ğŸ“¡ Backend API Endpoints</h1>
    <p>Complete reference for all AI Web Agent backend endpoints. The backend handles all business logic â€” frontend only sends/receives JSON. All endpoints require Bearer token auth unless marked Public.</p>
    <div class="base-url-box">Base URL: https://api.aiwebagent.com/v1</div>

    <div class="ep-sec"><div class="ep-sec-h">ğŸ¤– AI & Chat</div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m POST">POST</span><code class="ep-path">/chat-agent</code></div><p class="ep-desc">Send a message to the AI Pharmacy Assistant. Backend handles NLU, medication lookup, prescription checking.</p><div class="ep-code">Request: { <span class="k">"message"</span>: <span class="v">"I need paracetamol 10 tablets"</span> }<br>Response OK: { <span class="k">"reply"</span>: <span class="v">"Got it! Processing..."</span>, <span class="k">"status"</span>: <span class="v">"approved"</span> }<br>Response Rx: { <span class="k">"status"</span>: <span class="v">"rejected"</span>, <span class="k">"reason"</span>: <span class="v">"prescription_required"</span> }</div></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m POST">POST</span><code class="ep-path">/voice-agent</code></div><p class="ep-desc">Voice-to-AI endpoint via Vapi SDK. Processes voice input and returns AI response.</p><div class="ep-code">Vapi SDK: <span class="k">const</span> vapi = <span class="v">new Vapi("PUBLIC_API_KEY")</span><br>Button: vapi.start(<span class="v">"ASSISTANT_ID"</span>)</div></div>
    </div>

    <div class="ep-sec"><div class="ep-sec-h">ğŸ“„ Prescription Verification</div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m POST">POST</span><code class="ep-path">/upload-prescription</code></div><p class="ep-desc">Upload and verify a patient prescription. Backend validates against the requested medicine.</p><div class="ep-code">Request: { <span class="k">"customer_id"</span>: <span class="v">"USR001"</span>, <span class="k">"medicine"</span>: <span class="v">"Amoxicillin 500mg"</span> }<br>Response OK: { <span class="k">"status"</span>: <span class="v">"verified"</span>, <span class="k">"verification_id"</span>: <span class="v">"RX-4821"</span> }</div></div>
    </div>

    <div class="ep-sec"><div class="ep-sec-h">ğŸ“¦ Orders</div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m GET">GET</span><code class="ep-path">/orders</code></div><p class="ep-desc">Get all orders. Params: ?status=completed&limit=50&page=1</p></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m POST">POST</span><code class="ep-path">/orders</code></div><p class="ep-desc">Create a new order. Prescription check enforced server-side.</p><div class="ep-code">{ <span class="k">"customer_id"</span>: <span class="v">"USR001"</span>, <span class="k">"medicine"</span>: <span class="v">"Paracetamol 650"</span>, <span class="k">"quantity"</span>: <span class="v">10</span> }</div></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m PUT">PUT</span><code class="ep-path">/orders/:id</code></div><p class="ep-desc">Update an order status or details.</p></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m DELETE">DELETE</span><code class="ep-path">/orders/:id</code></div><p class="ep-desc">Cancel and delete an order (admin only).</p></div>
    </div>

    <div class="ep-sec"><div class="ep-sec-h">ğŸ’Š Inventory / Medicines</div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m GET">GET</span><code class="ep-path">/inventory</code></div><p class="ep-desc">Get all medicines with stock. Params: ?category=antibiotic&low_stock=true</p></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m POST">POST</span><code class="ep-path">/inventory</code></div><p class="ep-desc">Add a new medicine.</p><div class="ep-code">{ <span class="k">"name"</span>: <span class="v">"Amoxicillin 500mg"</span>, <span class="k">"stock"</span>: <span class="v">50</span>, <span class="k">"restricted"</span>: <span class="v">true</span> }</div></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m GET">GET</span><code class="ep-path">/inventory/alerts</code></div><p class="ep-desc">Get low-stock and critical-stock alerts for notification bell.</p></div>
    </div>

    <div class="ep-sec"><div class="ep-sec-h">ğŸ‘¥ Customers</div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m GET">GET</span><code class="ep-path">/customers</code></div><p class="ep-desc">Get all registered customers.</p></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m POST">POST</span><code class="ep-path">/customers</code></div><p class="ep-desc">Register a new customer.</p><div class="ep-code">{ <span class="k">"name"</span>: <span class="v">"John Doe"</span>, <span class="k">"email"</span>: <span class="v">"john@email.com"</span>, <span class="k">"phone"</span>: <span class="v">"+1-555-0100"</span> }</div></div>
    </div>

    <div class="ep-sec"><div class="ep-sec-h">ğŸ“Š Analytics & Dashboard</div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m GET">GET</span><code class="ep-path">/analytics/revenue</code></div><p class="ep-desc">Revenue data. Params: ?period=week|month|today</p></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m GET">GET</span><code class="ep-path">/analytics/top-sellers</code></div><p class="ep-desc">Top selling medicines for given period.</p></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m GET">GET</span><code class="ep-path">/analytics/dashboard-summary</code></div><p class="ep-desc">All dashboard metrics: revenue, orders, low-stock count, prescription blocks.</p></div>
    </div>

    <div class="ep-sec"><div class="ep-sec-h">ğŸ” Authentication</div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m POST">POST</span><code class="ep-path">/auth/login</code><span class="badge badge-green" style="font-size:.65rem">Public</span></div><p class="ep-desc">Login with email/password. Returns JWT token.</p><div class="ep-code">Request: { <span class="k">"email"</span>: <span class="v">"user@pharmacy.com"</span>, <span class="k">"password"</span>: <span class="v">"..."</span> }<br>Response: { <span class="k">"token"</span>: <span class="v">"eyJhbGc..."</span> }</div></div>
      <div class="ep-item"><div class="ep-mrow"><span class="ep-m POST">POST</span><code class="ep-path">/auth/logout</code></div><p class="ep-desc">Invalidate the current session token.</p></div>
    </div>
  </div>
</div>

<!-- ============================================================
     SUPPORT CHATBOT (global)
============================================================ -->
<div class="support-wrap" aria-label="Support Chat">
  <button class="chat-toggle-btn" onclick="toggleChat()" aria-label="Toggle Support Chat" aria-expanded="false" id="chatToggleBtn">ğŸ’¬</button>
  <div class="chat-panel" id="chatPanel" role="dialog" aria-label="AI Support Assistant">
    <div class="chat-ph">
      <div><strong>ğŸ¤ Support Assistant</strong><p>AI-Powered Â· Available 24/7</p></div>
      <button class="chat-ph-close" onclick="toggleChat()" aria-label="Close">âœ•</button>
    </div>
    <div class="chat-msgs" id="chatMsgs" aria-live="polite"></div>
    <div class="chat-input-row">
      <input type="text" class="chat-ti" id="chatTi" placeholder="Describe your issue..." aria-label="Type your message">
      <button class="chat-send" onclick="sendChatMsg()" aria-label="Send">Send</button>
    </div>
  </div>
</div>

<!-- ============================================================
     TOAST CONTAINER
============================================================ -->
<div class="toast-wrap" id="toastWrap" aria-live="polite" aria-atomic="true"></div>

<!-- ============================================================
     MODALS
============================================================ -->
<!-- LOGIN -->
<div class="overlay" id="loginModal" role="dialog" aria-modal="true" aria-labelledby="loginTitle" onclick="overlayClose(event,'loginModal')">
  <div class="modal-box">
    <h2 class="modal-title" id="loginTitle">Welcome Back</h2>
    <p class="modal-sub">Login to your AI Web Agent account</p>
    <div style="display:flex;flex-direction:column;gap:.875rem">
      <div class="form-group"><label class="form-label" for="liEmail">Email Address</label><input class="form-input" type="email" id="liEmail" placeholder="you@pharmacy.com"></div>
      <div class="form-group"><label class="form-label" for="liPass">Password</label><input class="form-input" type="password" id="liPass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"></div>
      <button class="btn-primary" onclick="handleLogin()" style="justify-content:center;margin-top:.25rem">Login</button>
      <button onclick="closeModal('loginModal')" style="background:none;color:var(--g3);font-size:.875rem;padding:8px">Cancel</button>
    </div>
  </div>
</div>

<!-- WEB CALL -->
<div class="overlay" id="callModal" role="dialog" aria-modal="true" onclick="overlayClose(event,'callModal')">
  <div class="modal-box" style="text-align:center">
    <div style="font-size:3rem;margin-bottom:.875rem;animation:orbFloat 2s ease-in-out infinite">ğŸ“</div>
    <h2 class="modal-title">Web Voice Call</h2>
    <p class="modal-sub">AI Voice Agent is active. Speak your request clearly.</p>
    <div style="display:flex;align-items:center;justify-content:center;gap:7px;font-size:.82rem;font-weight:600;color:var(--g3);margin-bottom:1.5rem"><span class="dot dot-green"></span>Listening...</div>
    <button class="btn-primary" onclick="closeModal('callModal')" style="background:linear-gradient(135deg,#ef4444,#dc2626);justify-content:center">ğŸ“µ End Call</button>
  </div>
</div>

<!-- RX UPLOAD -->
<div class="overlay" id="rxModal" role="dialog" aria-modal="true" aria-labelledby="rxTitle" onclick="overlayClose(event,'rxModal')">
  <div class="modal-box">
    <h2 class="modal-title" id="rxTitle">ğŸ“„ Upload Prescription</h2>
    <p class="modal-sub">Upload a valid prescription to proceed with restricted medication order.</p>
    <div class="rx-zone" onclick="simulateRxUpload()" role="button" tabindex="0" aria-label="Click to upload prescription">
      <div class="rx-zone-icon">ğŸ“‹</div>
      <p><strong>Click to upload prescription</strong></p>
      <p style="font-size:.75rem;color:var(--g4);margin-top:5px">JPG, PNG or PDF Â· Max 10MB</p>
    </div>
    <div style="display:flex;gap:.875rem;margin-top:1.4rem">
      <button class="btn-primary" onclick="simulateRxUpload()" style="flex:1;justify-content:center">ğŸ“„ Upload & Verify</button>
      <button onclick="closeModal('rxModal')" style="flex:1;padding:13px;border:2px solid var(--g5);border-radius:var(--r2);font-weight:600;color:var(--g3)">Cancel</button>
    </div>
  </div>
</div>

<!-- ADD ORDER -->
<div class="overlay" id="addOrderModal" role="dialog" aria-modal="true" onclick="overlayClose(event,'addOrderModal')">
  <div class="modal-box" style="max-width:520px">
    <h2 class="modal-title">â• Add New Order</h2>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:.875rem">
      <div class="form-group"><label class="form-label" for="aoId">Order ID</label><input class="form-input" id="aoId" placeholder="#ORD600"></div>
      <div class="form-group"><label class="form-label" for="aoCust">Customer</label><input class="form-input" id="aoCust" placeholder="John Doe"></div>
      <div class="form-group" style="grid-column:span 2"><label class="form-label" for="aoMed">Medicine(s)</label><input class="form-input" id="aoMed" placeholder="Paracetamol (2), Ibuprofen (1)"></div>
      <div class="form-group"><label class="form-label" for="aoPrice">Price ($)</label><input class="form-input" type="number" id="aoPrice" placeholder="25.50" step="0.01"></div>
      <div class="form-group"><label class="form-label" for="aoStatus">Status</label><select class="form-input" id="aoStatus"><option>Pending</option><option>In Progress</option><option>Completed</option></select></div>
    </div>
    <div style="display:flex;gap:.875rem;margin-top:1.4rem">
      <button class="btn-primary" onclick="addOrder()" style="flex:1;justify-content:center">âœ… Add Order</button>
      <button onclick="closeModal('addOrderModal')" style="flex:1;padding:13px;border:2px solid var(--g5);border-radius:var(--r2);font-weight:600;color:var(--g3)">Cancel</button>
    </div>
  </div>
</div>

<!-- ADD CUSTOMER -->
<div class="overlay" id="addCustModal" role="dialog" aria-modal="true" onclick="overlayClose(event,'addCustModal')">
  <div class="modal-box" style="max-width:520px">
    <h2 class="modal-title">â• Add New Customer</h2>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:.875rem">
      <div class="form-group"><label class="form-label" for="acName">Full Name</label><input class="form-input" id="acName" placeholder="John Doe"></div>
      <div class="form-group"><label class="form-label" for="acEmail">Email</label><input class="form-input" type="email" id="acEmail" placeholder="john@email.com"></div>
      <div class="form-group"><label class="form-label" for="acPhone">Phone</label><input class="form-input" id="acPhone" placeholder="+1-555-0100"></div>
      <div class="form-group"><label class="form-label" for="acCity">City</label><input class="form-input" id="acCity" placeholder="New York"></div>
    </div>
    <div style="display:flex;gap:.875rem;margin-top:1.4rem">
      <button class="btn-primary" onclick="addCustomer()" style="flex:1;justify-content:center">âœ… Add Customer</button>
      <button onclick="closeModal('addCustModal')" style="flex:1;padding:13px;border:2px solid var(--g5);border-radius:var(--r2);font-weight:600;color:var(--g3)">Cancel</button>
    </div>
  </div>
</div>

<!-- ADD MEDICINE -->
<div class="overlay" id="addMedModal" role="dialog" aria-modal="true" onclick="overlayClose(event,'addMedModal')">
  <div class="modal-box" style="max-width:520px">
    <h2 class="modal-title">â• Add Medicine</h2>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:.875rem">
      <div class="form-group" style="grid-column:span 2"><label class="form-label" for="amName">Medicine Name</label><input class="form-input" id="amName" placeholder="Paracetamol 650mg"></div>
      <div class="form-group"><label class="form-label" for="amCat">Category</label><select class="form-input" id="amCat"><option>Pain Relief</option><option>Antibiotic</option><option>Antihistamine</option><option>Diabetes</option><option>Blood Pressure</option><option>Gastric</option><option>Other</option></select></div>
      <div class="form-group"><label class="form-label" for="amStock">Initial Stock</label><input class="form-input" type="number" id="amStock" placeholder="50"></div>
      <div class="form-group"><label class="form-label" for="amPrice">Price ($)</label><input class="form-input" type="number" id="amPrice" placeholder="2.50" step="0.01"></div>
      <div class="form-group"><label class="form-label" for="amReorder">Reorder Level</label><input class="form-input" type="number" id="amReorder" placeholder="10"></div>
      <div class="form-group" style="grid-column:span 2;flex-direction:row;align-items:center;gap:8px"><input type="checkbox" id="amRx" style="width:15px;height:15px;accent-color:var(--b2)"><label class="form-label" for="amRx" style="margin:0;cursor:pointer">Requires Prescription (Rx)</label></div>
    </div>
    <div style="display:flex;gap:.875rem;margin-top:1.4rem">
      <button class="btn-primary" onclick="addMedicine()" style="flex:1;justify-content:center">âœ… Add Medicine</button>
      <button onclick="closeModal('addMedModal')" style="flex:1;padding:13px;border:2px solid var(--g5);border-radius:var(--r2);font-weight:600;color:var(--g3)">Cancel</button>
    </div>
  </div>
</div>

<!-- ============================================================
     JAVASCRIPT
============================================================ -->
<script>
// ============================================================
// DATA
// ============================================================
const MED_DB = [
  { name:'Paracetamol 650',stock:32,cat:'Pain Relief',reorder:10,price:2.50,restricted:false },
  { name:'Ibuprofen 400mg',stock:5,cat:'Anti-inflammatory',reorder:15,price:3.20,restricted:false },
  { name:'Amoxicillin 500mg',stock:2,cat:'Antibiotic',reorder:20,price:8.50,restricted:true },
  { name:'Cetirizine 10mg',stock:45,cat:'Antihistamine',reorder:10,price:1.80,restricted:false },
  { name:'Aspirin 325mg',stock:60,cat:'Pain Relief',reorder:10,price:1.50,restricted:false },
  { name:'Metformin 500mg',stock:28,cat:'Diabetes',reorder:15,price:4.20,restricted:true },
  { name:'Lisinopril 10mg',stock:18,cat:'Blood Pressure',reorder:10,price:5.60,restricted:true },
  { name:'Omeprazole 20mg',stock:35,cat:'Gastric',reorder:10,price:6.80,restricted:false },
];

let ordersDB = [
  { id:'#ORD576',cust:'Alice Brown',med:'Paracetamol (2), Ibuprofen (1)',price:'$25.50',status:'Completed',payment:'Paid' },
  { id:'#ORD575',cust:'Bob Smith',med:'Amoxicillin (3), Cetirizine (2)',price:'$42.00',status:'In Progress',payment:'Pending' },
  { id:'#ORD574',cust:'Carol White',med:'Aspirin (4), Omeprazole (1)',price:'$15.00',status:'Pending',payment:'Paid' },
  { id:'#ORD573',cust:'David Lee',med:'Metformin (2), Lisinopril (1)',price:'$48.00',status:'Completed',payment:'Paid' },
  { id:'#ORD572',cust:'Emma Davis',med:'Cetirizine (5)',price:'$9.00',status:'Completed',payment:'Paid' },
  { id:'#ORD571',cust:'Frank Johnson',med:'Ibuprofen (2)',price:'$6.40',status:'Pending',payment:'Pending' },
];

let custsDB = [
  { id:'C001',name:'Alice Brown',email:'alice@email.com',phone:'+1-555-0101',city:'New York',orders:12,status:'Active' },
  { id:'C002',name:'Bob Smith',email:'bob@email.com',phone:'+1-555-0102',city:'Los Angeles',orders:8,status:'Active' },
  { id:'C003',name:'Carol White',email:'carol@email.com',phone:'+1-555-0103',city:'Chicago',orders:5,status:'Active' },
  { id:'C004',name:'David Lee',email:'david@email.com',phone:'+1-555-0104',city:'Houston',orders:15,status:'Active' },
  { id:'C005',name:'Emma Davis',email:'emma@email.com',phone:'+1-555-0105',city:'Phoenix',orders:3,status:'Inactive' },
  { id:'C006',name:'Frank Johnson',email:'frank@email.com',phone:'+1-555-0106',city:'Philadelphia',orders:7,status:'Active' },
];

let invDB = [...MED_DB];

const TOP_SELLERS = [
  { name:'Paracetamol 650',sold:'359 sold',revenue:'$897',icon:'ğŸ’Š' },
  { name:'Cetirizine 10mg',sold:'300 sold',revenue:'$540',icon:'ğŸ’Š' },
  { name:'Amoxicillin 500mg',sold:'289 sold',revenue:'$2,456',icon:'ğŸ’‰' },
  { name:'Ibuprofen 400mg',sold:'248 sold',revenue:'$793',icon:'ğŸ’Š' },
  { name:'Omeprazole 20mg',sold:'220 sold',revenue:'$1,496',icon:'ğŸ’Š' },
];

const NOTIFS = [
  { icon:'âš ï¸',title:'Low Stock: Ibuprofen 400mg',time:'2 min ago' },
  { icon:'ğŸ”´',title:'Critical: Amoxicillin 500mg (2 left)',time:'5 min ago' },
  { icon:'ğŸŸ¢',title:'Restocked: Aspirin 325mg',time:'1 hr ago' },
  { icon:'ğŸ’°',title:'New offer: 20% off Vitamins',time:'2 hrs ago' },
  { icon:'ğŸ“¦',title:'Order #ORD576 Completed',time:'3 hrs ago' },
];

// ============================================================
// PAGE NAVIGATION
// ============================================================
let dashChartsInit = false, adminOvInit = false, adminAnInit = false;

function goTo(page) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById('page-' + page).classList.add('active');
  document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
  const navEl = document.getElementById('nav-' + page);
  if (navEl) { navEl.classList.add('active'); navEl.setAttribute('aria-current','page'); }
  window.scrollTo(0, 0);

  if (page === 'dashboard' && !dashChartsInit) { dashChartsInit = true; setTimeout(initDashCharts, 100); initDashTables(); }
  if (page === 'admin' && !adminOvInit) { adminOvInit = true; setTimeout(initAdminOvCharts, 100); renderAdminOvData(); renderOrders(); renderCustomers(); renderInventory(); }
}

// ============================================================
// SEARCH
// ============================================================
document.getElementById('heroSearch').addEventListener('input', function() {
  const q = this.value.trim().toLowerCase();
  const drop = document.getElementById('searchDrop');
  if (q.length < 2) { drop.classList.remove('show'); return; }
  const res = MED_DB.filter(m => m.name.toLowerCase().includes(q) || m.cat.toLowerCase().includes(q));
  drop.innerHTML = res.length
    ? res.slice(0,6).map(m => `<div class="sug-item" onclick="selectMed('${m.name}','${m.stock}')">ğŸ’Š <span style="flex:1">${m.name}</span><span class="badge badge-${m.stock>10?'green':m.stock>3?'orange':'red'}">${m.stock} left</span></div>`).join('')
    : `<div class="sug-item" style="color:var(--g4)">No results for "${q}"</div>`;
  drop.classList.add('show');
});

document.addEventListener('click', e => { if (!e.target.closest('.search-hero')) document.getElementById('searchDrop').classList.remove('show'); });

function selectMed(name, stock) {
  document.getElementById('heroSearch').value = name;
  document.getElementById('searchDrop').classList.remove('show');
  toast(`${name} â€” ${stock} in stock`, stock > 10 ? 'green' : 'orange');
}

function fillSearch(name) {
  document.getElementById('heroSearch').value = name;
  document.getElementById('heroSearch').dispatchEvent(new Event('input'));
}

function doSearch() {
  const v = document.getElementById('heroSearch').value;
  if (v) toast('Searching for: ' + v, 'blue');
}

// ============================================================
// NOTIFICATIONS
// ============================================================
function initNotifs() {
  const list = document.getElementById('notifList');
  list.innerHTML = NOTIFS.map(n => `<div class="notif-item" role="menuitem"><span class="notif-icon">${n.icon}</span><div class="notif-text"><strong>${n.title}</strong><small>${n.time}</small></div></div>`).join('');
}

function toggleNotif() {
  const d = document.getElementById('notifDrop');
  d.classList.toggle('show');
  if (d.classList.contains('show')) document.getElementById('notifDot').style.display = 'none';
}

function clearNotifs() {
  document.getElementById('notifList').innerHTML = '<div style="padding:1.25rem;text-align:center;color:var(--g4);font-size:.82rem">No new notifications</div>';
  document.getElementById('notifDrop').classList.remove('show');
}

document.addEventListener('click', e => { if (!e.target.closest('.notif-wrap')) document.getElementById('notifDrop').classList.remove('show'); });

// ============================================================
// MODALS
// ============================================================
function openModal(id) {
  document.getElementById(id).classList.add('show');
  document.body.style.overflow = 'hidden';
}
function closeModal(id) {
  document.getElementById(id).classList.remove('show');
  document.body.style.overflow = '';
}
function overlayClose(e, id) {
  if (e.target === document.getElementById(id)) closeModal(id);
}
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') document.querySelectorAll('.overlay.show').forEach(o => { o.classList.remove('show'); document.body.style.overflow = ''; });
});

// ============================================================
// TOAST
// ============================================================
function toast(msg, type = 'blue') {
  const c = document.getElementById('toastWrap');
  const icons = { green:'âœ…', orange:'âš ï¸', red:'âŒ', blue:'â„¹ï¸' };
  const t = document.createElement('div');
  t.className = 'toast ' + type;
  t.setAttribute('role','alert');
  t.innerHTML = `<span>${icons[type]||'â„¹ï¸'}</span><span>${msg}</span>`;
  c.appendChild(t);
  setTimeout(() => { t.style.opacity='0'; t.style.transform='translateX(100%)'; t.style.transition='all .3s'; setTimeout(()=>t.remove(),300); }, 3500);
}

// ============================================================
// LOGIN
// ============================================================
function handleLogin() {
  const e = document.getElementById('liEmail').value;
  const p = document.getElementById('liPass').value;
  if (!e || !p) { toast('Please fill all fields', 'red'); return; }
  closeModal('loginModal');
  toast('Welcome back! Redirecting to dashboard...', 'green');
  setTimeout(() => goTo('dashboard'), 1500);
}

// ============================================================
// SUPPORT CHATBOT
// ============================================================
const CHAT_FLOW = {
  start: { msg:"ğŸ‘‹ Hello! I'm your AI Support Assistant. How can I help you today?", opts:[{l:"ğŸ”§ Technical Issue",n:'tech'},{l:"ğŸ“¦ Order Problem",n:'order'},{l:"ğŸ’Š Medicine Inquiry",n:'meds'},{l:"ğŸ” Account / Login",n:'account'}] },
  tech: { msg:"I see you have a technical issue. Which area is affected?", opts:[{l:"ğŸ¤– AI Chat not working",n:'ai_issue'},{l:"ğŸ“Š Dashboard not loading",n:'connect'},{l:"ğŸ™ï¸ Voice feature problem",n:'voice_fix'},{l:"â¬†ï¸ Upload issue",n:'upload_fix'}] },
  order: { msg:"I'll help with your order. What happened?", opts:[{l:"âŒ Order was cancelled",n:'connect'},{l:"â³ Order delayed",n:'connect'},{l:"ğŸ’Š Wrong medicine",n:'connect'},{l:"ğŸ’° Refund request",n:'connect'}] },
  meds: { msg:"Happy to help! What do you need to know?", opts:[{l:"ğŸ“‹ Prescription requirement",n:'connect'},{l:"ğŸ” Medicine availability",n:'connect'},{l:"ğŸ’Š Drug interactions",n:'connect'},{l:"ğŸ“¦ Stock status",n:'connect'}] },
  account: { msg:"Account issues can be frustrating. What's the problem?", opts:[{l:"ğŸ” Can't login",n:'connect'},{l:"ğŸ”‘ Forgot password",n:'connect'},{l:"ğŸ‘¤ Update profile",n:'connect'}] },
  ai_issue: { msg:"For AI chat issues, please check: 1) Is your internet stable? 2) Try refreshing the page. Still not working?", opts:[{l:"Yes, still broken",n:'connect'},{l:"âœ… Refresh fixed it!",n:'resolved'}] },
  voice_fix: { msg:"Voice issues are usually browser permissions. Click the ğŸ”’ lock icon â†’ Set Microphone to Allow â†’ Refresh. Did that help?", opts:[{l:"âœ… Fixed! Thanks",n:'resolved'},{l:"âŒ Still not working",n:'connect'}] },
  upload_fix: { msg:"Upload issues: ensure your file is JPG/PNG/PDF under 10MB. Within those limits?", opts:[{l:"Yes, within limits",n:'connect'},{l:"Let me check",n:'resolved'}] },
  resolved: { msg:"ğŸ‰ Great! Glad we could help. Is there anything else?", opts:[{l:"No, thanks!",n:'done'}] },
  done: { msg:"You're welcome! Thank you for using AI Web Agent. Have a great day! ğŸ’™", opts:[] },
  connect: { msg:"I'm connecting you with our support & maintenance team now.\n\nğŸ“ **Connecting to human agent...**\nâ±ï¸ Estimated wait: 2-3 minutes\n\nOr reach us at:\nğŸ“§ support@aiwebagent.com\nğŸ“± +1-800-AIPHARM", opts:[{l:"âœ… OK, I'll wait",n:'done'}] },
};

let chatOpen = false;

function toggleChat() {
  chatOpen = !chatOpen;
  const panel = document.getElementById('chatPanel');
  const btn = document.getElementById('chatToggleBtn');
  panel.classList.toggle('open', chatOpen);
  btn.setAttribute('aria-expanded', chatOpen);
  btn.textContent = chatOpen ? 'âœ•' : 'ğŸ’¬';
  if (chatOpen && document.getElementById('chatMsgs').children.length === 0) {
    addChatBub(CHAT_FLOW.start.msg, 'bot', CHAT_FLOW.start.opts);
  }
}

function addChatBub(text, type, opts = []) {
  const msgs = document.getElementById('chatMsgs');
  const b = document.createElement('div');
  b.className = 'cbubble ' + type;
  b.innerHTML = text.replace(/\n/g,'<br>').replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>');
  msgs.appendChild(b);
  if (opts.length) {
    const ow = document.createElement('div');
    ow.className = 'chat-opts';
    opts.forEach(o => {
      const btn = document.createElement('button');
      btn.className = 'chat-opt';
      btn.textContent = o.l;
      btn.onclick = () => {
        addChatBub(o.l, 'user');
        ow.remove();
        setTimeout(() => {
          const next = CHAT_FLOW[o.n];
          if (next) addChatBub(next.msg, 'bot', next.opts);
        }, 600);
      };
      ow.appendChild(btn);
    });
    msgs.appendChild(ow);
  }
  msgs.scrollTop = msgs.scrollHeight;
}

function sendChatMsg() {
  const ti = document.getElementById('chatTi');
  const v = ti.value.trim();
  if (!v) return;
  addChatBub(v, 'user');
  ti.value = '';
  setTimeout(() => addChatBub("Thanks for your message. Let me connect you with our team.", 'bot', [{l:"Connect to Support",n:'connect'}]), 700);
}

document.getElementById('chatTi').addEventListener('keypress', e => { if (e.key === 'Enter') sendChatMsg(); });

// ============================================================
// DASHBOARD - AI CHAT
// ============================================================
let selectedMed = null;

function initDashCharts() {
  // Revenue Bar
  const revCtx = document.getElementById('dRevChart').getContext('2d');
  const rg = revCtx.createLinearGradient(0,0,0,190);
  rg.addColorStop(0,'rgba(26,111,212,.85)');
  rg.addColorStop(1,'rgba(26,111,212,.25)');
  new Chart(revCtx, {
    type:'bar',
    data:{ labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'], datasets:[{ data:[5200,7800,6500,9200,8100,11200,7600], backgroundColor:rg, borderRadius:7, borderSkipped:false }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false},tooltip:{callbacks:{label:c=>'$'+c.raw.toLocaleString()}}}, scales:{ x:{grid:{display:false},ticks:{font:{size:10,family:'DM Sans'},color:'#94a3b8'}}, y:{grid:{color:'#f0f4f8'},ticks:{font:{size:10,family:'DM Sans'},color:'#94a3b8',callback:v=>'$'+(v/1000)+'k'}} } }
  });
  // Orders Line
  const ordCtx = document.getElementById('dOrdChart').getContext('2d');
  const og = ordCtx.createLinearGradient(0,0,0,190);
  og.addColorStop(0,'rgba(26,111,212,.3)');
  og.addColorStop(1,'rgba(26,111,212,0)');
  new Chart(ordCtx, {
    type:'line',
    data:{ labels:['9am','10am','11am','12pm','1pm','2pm','3pm','4pm'], datasets:[{ data:[12,28,45,89,120,98,134,110], borderColor:'#1a6fd4', backgroundColor:og, fill:true, tension:.4, pointRadius:4, pointBackgroundColor:'#1a6fd4' }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{ x:{grid:{display:false},ticks:{font:{size:10},color:'#94a3b8'}}, y:{grid:{color:'#f0f4f8'},ticks:{font:{size:10},color:'#94a3b8'}} } }
  });
  // Stock Donut
  new Chart(document.getElementById('dStockChart').getContext('2d'), {
    type:'doughnut',
    data:{ labels:['In Stock','Low Stock','Critical'], datasets:[{ data:[5,2,1], backgroundColor:['#10b981','#f59e0b','#ef4444'], borderWidth:0, hoverOffset:6 }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{ legend:{position:'bottom',labels:{font:{size:10,family:'DM Sans'},usePointStyle:true,padding:12}}, tooltip:{callbacks:{label:c=>`${c.label}: ${c.raw} medicines`}} }, cutout:'65%' }
  });
}

function initDashTables() {
  // Orders table
  document.getElementById('dOrdersBody').innerHTML = ordersDB.slice(0,5).map(o => {
    const sc = o.status==='Completed'?'green':o.status==='In Progress'?'orange':'blue';
    const pc = o.payment==='Paid'?'green':'orange';
    return `<tr><td><strong>${o.id}</strong></td><td>${o.med}</td><td><strong>${o.price}</strong></td><td><span class="badge badge-${sc}">${o.status}</span></td><td><span class="badge badge-${pc}">${o.payment}</span></td></tr>`;
  }).join('');

  // Top sellers
  document.getElementById('dTopSellers').innerHTML = TOP_SELLERS.map((s,i)=>`<div class="seller-item"><div class="s-rank">${i+1}</div><div class="s-name">${s.name}</div><span class="s-cnt">${s.sold}</span><span class="s-rev">${s.revenue}</span></div>`).join('');

  // Stock table
  document.getElementById('dStockBody').innerHTML = MED_DB.map(m=>{
    const sc = m.stock>m.reorder?'green':m.stock>3?'orange':'red';
    const st = m.stock>m.reorder?'ğŸŸ¢ In Stock':m.stock>3?'ğŸŸ¡ Low Stock':'ğŸ”´ Critical';
    return `<tr><td><strong>${m.name}</strong>${m.restricted?' <span class="badge badge-red" style="font-size:.6rem">Rx</span>':''}</td><td><strong>${m.stock}</strong></td><td><span class="badge badge-${sc}">${st}</span></td><td>${m.cat}</td><td>${m.reorder}</td></tr>`;
  }).join('');

  // Init AI chat
  if (!document.getElementById('aiMsgs').children.length) {
    addAiBub("Hello! I'm your AI Pharmacy Assistant.\n\nğŸ’Š I can help you:\nâ€¢ Order medications\nâ€¢ Check stock availability\nâ€¢ Process prescription verification\nâ€¢ Answer drug questions\n\nWhat can I help you with today?", 'bot');
  }
}

function addAiBub(text, type) {
  const msgs = document.getElementById('aiMsgs');
  const b = document.createElement('div');
  b.className = 'ai-bub ' + type;
  if (type==='bot') b.innerHTML = `<span class="bavatar">ğŸ¤–</span>${text.replace(/\n/g,'<br>').replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>')}`;
  else b.textContent = text;
  msgs.appendChild(b);
  msgs.scrollTop = msgs.scrollHeight;
  return b;
}

function showTyping() {
  const msgs = document.getElementById('aiMsgs');
  const t = document.createElement('div');
  t.className = 'ai-typing'; t.id = 'aiTyping';
  t.innerHTML = '<span></span><span></span><span></span>';
  msgs.appendChild(t); msgs.scrollTop = msgs.scrollHeight;
}

function removeTyping() { document.getElementById('aiTyping')?.remove(); }

async function sendAiMsg() {
  const ti = document.getElementById('aiInput');
  const text = ti.value.trim();
  if (!text) return;
  addAiBub(text, 'user'); ti.value = '';
  showTyping();
  await new Promise(r => setTimeout(r, 900 + Math.random()*700));
  removeTyping();

  const l = text.toLowerCase();
  const found = MED_DB.find(m => l.includes(m.name.split(' ')[0].toLowerCase()));
  let reply = '';

  if (l.match(/order|need|want|give me/)) {
    if (found) {
      selectedMed = found.name;
      if (found.restricted) {
        reply = `âš ï¸ **${found.name}** is a prescription-controlled medication.\n\nTo proceed, I need to verify your prescription. Please upload it using the button below.`;
        document.getElementById('rxBanner').classList.add('show');
      } else {
        const qty = (l.match(/\d+/) || ['10'])[0];
        reply = `âœ… **Order Confirmed!**\n\nâ€¢ Medicine: ${found.name}\nâ€¢ Quantity: ${qty} tablets\nâ€¢ Order ID: #ORD${Math.floor(Math.random()*999+500)}\nâ€¢ Status: Processing\n\nğŸ“¬ Pharmacy notified. Ready in ~30 mins.`;
        const cur = parseInt(document.getElementById('dMetOrd').textContent.replace(/,/g,''));
        document.getElementById('dMetOrd').textContent = (cur + 1).toLocaleString();
        toast(`Order placed for ${found.name}!`, 'green');
      }
    } else {
      reply = "To process your order, please tell me:\n\nâ€¢ **Which medicine** do you need?\nâ€¢ **Quantity** required?\nâ€¢ Do you have a **prescription** if needed?\n\nI'm here to help! ğŸ’™";
    }
  } else if (l.match(/stock|available|have|check/)) {
    if (found) {
      const st = found.stock > found.reorder ? 'ğŸŸ¢ In Stock' : found.stock > 3 ? 'ğŸŸ¡ Low Stock' : 'ğŸ”´ Critical';
      reply = `ğŸ“¦ **${found.name}** Stock Info:\n\nâ€¢ Available: ${found.stock} units\nâ€¢ Status: ${st}\nâ€¢ Category: ${found.cat}\nâ€¢ Prescription Required: ${found.restricted ? 'Yes' : 'No'}\n\nWould you like to place an order?`;
    } else {
      reply = "I can check stock for any medicine. Which medicine would you like me to check? ğŸ“¦";
    }
  } else if (l.match(/hello|hi|hey|good/)) {
    reply = "Hello! ğŸ‘‹ Great to have you here.\n\nI'm your AI Pharmacy Assistant. You can:\n\nâ€¢ Order medicines directly via chat\nâ€¢ Check stock availability\nâ€¢ Get prescription guidance\nâ€¢ Ask about drug information\n\nWhat do you need today?";
  } else if (l.match(/pain|headache|fever|ache/)) {
    reply = "For pain or fever, I recommend:\n\nâ€¢ **Paracetamol 650mg** â€“ 32 in stock ğŸŸ¢\nâ€¢ **Ibuprofen 400mg** â€“ 5 in stock ğŸŸ¡\nâ€¢ **Aspirin 325mg** â€“ 60 in stock ğŸŸ¢\n\nâš•ï¸ Always follow prescribed dosage. Shall I order one for you?";
  } else if (l.match(/prescription|rx|upload/)) {
    reply = "For prescription medications:\n\n1. Our system will prompt you to upload your prescription\n2. Our compliance engine verifies it automatically\n3. Once verified, your order processes immediately\n\nWould you like to order a prescription medication?";
  } else {
    reply = "I understand your request. Could you clarify:\n\nâ€¢ **Which medicine** are you asking about?\nâ€¢ Are you looking to **order** or just **check info**?\n\nI'll do my best to help you right away! ğŸ’Š";
  }
  addAiBub(reply, 'bot');
}

document.getElementById('aiInput')?.addEventListener('keypress', e => { if (e.key === 'Enter') sendAiMsg(); });

// Voice
let voiceActive = false;
function toggleVoice() {
  voiceActive = !voiceActive;
  const b = document.getElementById('micBtn');
  b.classList.toggle('active', voiceActive);
  b.setAttribute('aria-label', voiceActive ? 'Stop voice' : 'Start voice');
  if (voiceActive) {
    toast('Voice agent listening...', 'blue');
    setTimeout(() => {
      if (voiceActive) {
        addAiBub('ğŸ™ï¸ Voice input: *"I need paracetamol 10 tablets"*\n\nProcessing your order...', 'bot');
        voiceActive = false; b.classList.remove('active');
      }
    }, 3000);
  }
}

// Web call
function startWebCall() {
  openModal('callModal');
  toast('Voice call connected!', 'green');
}

// Rx upload simulation
async function simulateRxUpload() {
  closeModal('rxModal');
  document.getElementById('rxBanner').classList.remove('show');
  showTyping();
  await new Promise(r => setTimeout(r, 2000));
  removeTyping();
  addAiBub(`âœ… **Prescription Verified Successfully!**\n\nYour prescription for **${selectedMed || 'requested medication'}** has been validated.\n\nâ€¢ Status: Approved âœ…\nâ€¢ Verification ID: RX-${Math.floor(Math.random()*9000+1000)}\n\nYou can now place your order. Would you like me to proceed?`, 'bot');
  toast('Prescription verified!', 'green');
}

// Period update
function updatePeriod() {
  const p = document.getElementById('periodSel').value;
  const m = { today:0.14, week:1, month:4.3 }[p] || 1;
  document.getElementById('dMetRev').textContent = '$' + Math.round(48200 * m).toLocaleString();
  document.getElementById('dMetOrd').textContent = Math.round(1023 * m).toLocaleString();
  toast('View updated: ' + p, 'blue');
}

// ============================================================
// ADMIN PANEL
// ============================================================
function showAdminSec(name, btn) {
  document.querySelectorAll('.asec').forEach(s => s.classList.remove('show'));
  document.getElementById('asec-' + name).classList.add('show');
  document.querySelectorAll('.sb-btn').forEach(b => { b.classList.remove('active'); b.setAttribute('aria-pressed','false'); });
  if (btn) { btn.classList.add('active'); btn.setAttribute('aria-pressed','true'); }
  if (name === 'analytics' && !adminAnInit) { adminAnInit = true; setTimeout(initAnalyticsCharts, 100); }
}

function initAdminOvCharts() {
  new Chart(document.getElementById('ovRevChart').getContext('2d'), {
    type:'bar',
    data:{ labels:['01','02','03','04','05','06','07','08','09','10','11','12','13'], datasets:[{ data:[8000,9200,7500,11000,12000,18657,14000,16000,13000,15000,14500,11000,12000], backgroundColor:'rgba(26,111,212,.82)', borderRadius:6 }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{ x:{grid:{display:false},ticks:{font:{size:10},color:'#94a3b8'}}, y:{grid:{color:'#f0f4f8'},ticks:{font:{size:10},color:'#94a3b8',callback:v=>'$'+(v/1000)+'k'}} } }
  });
  const og2 = document.getElementById('ovOrdChart').getContext('2d');
  const g2 = og2.createLinearGradient(0,0,0,240);
  g2.addColorStop(0,'rgba(26,111,212,.28)'); g2.addColorStop(1,'rgba(26,111,212,0)');
  new Chart(og2, {
    type:'line',
    data:{ labels:['9am','10am','11am','12pm','1pm','2pm','3pm'], datasets:[{ data:[15,42,78,120,95,140,110], borderColor:'#1a6fd4', backgroundColor:g2, fill:true, tension:.4, pointRadius:4, pointBackgroundColor:'#1a6fd4' }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{ x:{grid:{display:false},ticks:{font:{size:10},color:'#94a3b8'}}, y:{grid:{color:'#f0f4f8'},ticks:{font:{size:10},color:'#94a3b8'}} } }
  });
}

function renderAdminOvData() {
  document.getElementById('ovOrdersBody').innerHTML = ordersDB.slice(0,5).map(o => {
    const sc=o.status==='Completed'?'green':o.status==='In Progress'?'orange':'blue';
    const pc=o.payment==='Paid'?'green':'orange';
    return `<tr><td><strong>${o.id}</strong></td><td>${o.med}</td><td><strong>${o.price}</strong></td><td><span class="badge badge-${sc}">${o.status}</span></td><td><span class="badge badge-${pc}">${o.payment}</span></td><td><div class="action-btns"><button class="ab edit">âœï¸</button><button class="ab del" onclick="delOrder('${o.id}')">ğŸ—‘ï¸</button></div></td></tr>`;
  }).join('');
  document.getElementById('ovTopProds').innerHTML = TOP_SELLERS.map(p=>`<div class="top-prod-item"><div class="tp-icon">${p.icon}</div><div class="tp-name"><strong>${p.name}</strong><small>${p.sold}</small></div><div class="tp-price">${p.revenue}</div></div>`).join('');
}

function renderOrders(data = ordersDB) {
  document.getElementById('ordersBody').innerHTML = data.map(o => {
    const sc=o.status==='Completed'?'green':o.status==='In Progress'?'orange':'blue';
    const pc=o.payment==='Paid'?'green':'orange';
    return `<tr><td><strong>${o.id}</strong></td><td>${o.cust}</td><td>${o.med}</td><td><strong>${o.price}</strong></td><td><span class="badge badge-${sc}">${o.status}</span></td><td><span class="badge badge-${pc}">${o.payment}</span></td><td><div class="action-btns"><button class="ab edit">âœï¸</button><button class="ab del" onclick="delOrder('${o.id}')">ğŸ—‘ï¸</button></div></td></tr>`;
  }).join('');
}

function filterOrders() {
  const q = document.getElementById('ordSearch').value.toLowerCase();
  const sf = document.getElementById('ordStatusFilter').value.toLowerCase();
  renderOrders(ordersDB.filter(o => (!q || o.id.toLowerCase().includes(q) || o.cust.toLowerCase().includes(q) || o.med.toLowerCase().includes(q)) && (!sf || o.status.toLowerCase() === sf)));
}

function delOrder(id) {
  if (!confirm(`Delete order ${id}?`)) return;
  ordersDB = ordersDB.filter(o => o.id !== id);
  renderOrders(); renderAdminOvData();
  toast(`Order ${id} deleted`, 'red');
}

function addOrder() {
  const id=document.getElementById('aoId').value.trim(), cust=document.getElementById('aoCust').value.trim(), med=document.getElementById('aoMed').value.trim(), price=document.getElementById('aoPrice').value.trim(), status=document.getElementById('aoStatus').value;
  if (!id || !cust || !med || !price) { toast('Fill all fields', 'red'); return; }
  ordersDB.unshift({ id, cust, med, price:'$'+parseFloat(price).toFixed(2), status, payment:'Pending' });
  renderOrders(); renderAdminOvData(); closeModal('addOrderModal');
  toast(`Order ${id} added!`, 'green');
  ['aoId','aoCust','aoMed','aoPrice'].forEach(i => document.getElementById(i).value='');
}

function renderCustomers(data = custsDB) {
  document.getElementById('custBody').innerHTML = data.map(c => `<tr><td><strong>${c.id}</strong></td><td>${c.name}</td><td>${c.email}</td><td>${c.phone}</td><td><strong>${c.orders}</strong></td><td><span class="badge badge-${c.status==='Active'?'green':'orange'}">${c.status}</span></td><td><div class="action-btns"><button class="ab edit">âœï¸</button><button class="ab del" onclick="delCust('${c.id}')">ğŸ—‘ï¸</button></div></td></tr>`).join('');
}

function filterCustomers() {
  const q = document.getElementById('custSearch').value.toLowerCase();
  renderCustomers(custsDB.filter(c => !q || c.name.toLowerCase().includes(q) || c.email.toLowerCase().includes(q) || c.id.toLowerCase().includes(q)));
}

function delCust(id) {
  if (!confirm(`Delete customer ${id}?`)) return;
  custsDB = custsDB.filter(c => c.id !== id); renderCustomers();
  toast('Customer removed', 'red');
}

function addCustomer() {
  const name=document.getElementById('acName').value.trim(), email=document.getElementById('acEmail').value.trim(), phone=document.getElementById('acPhone').value.trim(), city=document.getElementById('acCity').value.trim();
  if (!name || !email || !phone) { toast('Fill required fields', 'red'); return; }
  const newId = 'C' + String(custsDB.length+1).padStart(3,'0');
  custsDB.unshift({ id:newId, name, email, phone, city, orders:0, status:'Active' });
  renderCustomers(); closeModal('addCustModal');
  toast(`Customer ${name} added!`, 'green');
  ['acName','acEmail','acPhone','acCity'].forEach(i => document.getElementById(i).value='');
}

function renderInventory() {
  const alerts = document.getElementById('invAlerts');
  const crit = invDB.filter(m => m.stock <= 3);
  const low = invDB.filter(m => m.stock > 3 && m.stock <= m.reorder);
  alerts.innerHTML = [...crit.map(m=>`<div class="inv-alert crit" role="alert">ğŸ”´ <strong>Critical:</strong> ${m.name} â€” Only ${m.stock} units. Immediate reorder needed!</div>`), ...low.map(m=>`<div class="inv-alert low" role="alert">âš ï¸ <strong>Low Stock:</strong> ${m.name} â€” ${m.stock} units (reorder at ${m.reorder})</div>`)].join('');
  document.getElementById('invBody').innerHTML = invDB.map((m,i) => {
    const sc=m.stock>m.reorder?'green':m.stock>3?'orange':'red';
    const st=m.stock>m.reorder?'ğŸŸ¢ In Stock':m.stock>3?'ğŸŸ¡ Low':'ğŸ”´ Critical';
    return `<tr><td><strong>${m.name}</strong></td><td>${m.cat}</td><td><strong>${m.stock}</strong> units</td><td><span class="badge badge-${sc}">${st}</span></td><td>$${m.price.toFixed(2)}</td><td>${m.restricted?'<span class="badge badge-red">Rx</span>':'<span class="badge badge-green">OTC</span>'}</td><td><div class="action-btns"><button class="ab edit">âœï¸</button><button class="ab del" onclick="delMed(${i})">ğŸ—‘ï¸</button></div></td></tr>`;
  }).join('');
}

function delMed(i) {
  if (!confirm(`Delete ${invDB[i].name}?`)) return;
  invDB.splice(i,1); renderInventory();
  toast('Medicine removed', 'red');
}

function addMedicine() {
  const name=document.getElementById('amName').value.trim(), cat=document.getElementById('amCat').value, stock=parseInt(document.getElementById('amStock').value)||0, price=parseFloat(document.getElementById('amPrice').value)||0, reorder=parseInt(document.getElementById('amReorder').value)||10, restricted=document.getElementById('amRx').checked;
  if (!name) { toast('Enter medicine name', 'red'); return; }
  invDB.unshift({ name, cat, stock, price, reorder, restricted });
  renderInventory(); closeModal('addMedModal');
  toast(`${name} added to inventory!`, 'green');
  ['amName','amStock','amPrice','amReorder'].forEach(i => document.getElementById(i).value='');
  document.getElementById('amRx').checked = false;
}

function initAnalyticsCharts() {
  new Chart(document.getElementById('anRevChart').getContext('2d'), {
    type:'line',
    data:{ labels:['Week 1','Week 2','Week 3','Week 4'], datasets:[{ data:[28000,35000,42000,48200], borderColor:'#1a6fd4', backgroundColor:'rgba(26,111,212,.12)', fill:true, tension:.4, pointRadius:5, pointBackgroundColor:'#1a6fd4' }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{ x:{grid:{display:false}}, y:{grid:{color:'#f0f4f8'},ticks:{callback:v=>'$'+(v/1000)+'k'}} } }
  });
  new Chart(document.getElementById('anCatChart').getContext('2d'), {
    type:'pie',
    data:{ labels:['Pain Relief','Antibiotic','Antihistamine','Diabetes','Other'], datasets:[{ data:[35,20,15,18,12], backgroundColor:['#1a6fd4','#10b981','#f59e0b','#8b5cf6','#64748b'], borderWidth:0 }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{position:'bottom',labels:{font:{size:10},usePointStyle:true,padding:10}}} }
  });
  new Chart(document.getElementById('anTopChart').getContext('2d'), {
    type:'bar',
    data:{ labels:['Paracetamol','Cetirizine','Amoxicillin','Ibuprofen','Omeprazole'], datasets:[{ data:[359,300,289,248,220], backgroundColor:'rgba(26,111,212,.82)', borderRadius:6 }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{x:{grid:{display:false}},y:{grid:{color:'#f0f4f8'}}} }
  });
  new Chart(document.getElementById('anMonChart').getContext('2d'), {
    type:'bar',
    data:{ labels:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'], datasets:[{ data:[820,920,780,1050,980,1120,1023,890,760,1100,950,1200], backgroundColor:'rgba(16,185,129,.8)', borderRadius:5 }] },
    options:{ responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{x:{grid:{display:false}},y:{grid:{color:'#f0f4f8'}}} }
  });
}

// ============================================================
// INIT
// ============================================================
document.addEventListener('DOMContentLoaded', () => {
  initNotifs();
  // keyboard nav for logo/footer links
  document.querySelectorAll('[role="button"]').forEach(el => {
    el.addEventListener('keypress', e => { if (e.key === 'Enter' || e.key === ' ') el.click(); });
  });
});
</script>
</body>
</html>
